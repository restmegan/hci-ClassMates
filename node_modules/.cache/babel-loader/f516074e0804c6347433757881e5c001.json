{"ast":null,"code":"import _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport React__default, { createElement, Component, PureComponent } from 'react';\nimport _extends from '@babel/runtime/helpers/extends';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport BigFileIcon, { defaultStyles } from 'react-file-icon';\nimport { faFileWord, faFileExcel, faFilePowerpoint, faFileArchive, faFileCode, faFilePdf, faFile, faFileAudio, faFileVideo, faFileImage, faFileAlt } from '@fortawesome/free-regular-svg-icons';\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport Dropzone from 'react-dropzone';\nimport loadImage from 'blueimp-load-image';\nimport _regeneratorRuntime from '@babel/runtime/regenerator'; // Partially based on:\n// https://stackoverflow.com/a/4212908/2570866\n\nvar wordMimeTypes = [// Microsoft Word\n// .doc .dot\n'application/msword', // .doc .dot\n'application/msword-template', // .docx\n'application/vnd.openxmlformats-officedocument.wordprocessingml.document', // .dotx (no test)\n'application/vnd.openxmlformats-officedocument.wordprocessingml.template', // .docm\n'application/vnd.ms-word.document.macroEnabled.12', // .dotm (no test)\n'application/vnd.ms-word.template.macroEnabled.12', // LibreOffice/OpenOffice Writer\n// .odt\n'application/vnd.oasis.opendocument.text', // .ott\n'application/vnd.oasis.opendocument.text-template', // .fodt\n'application/vnd.oasis.opendocument.text-flat-xml' // .uot\n// NOTE: firefox doesn't know mimetype so maybe ignore\n];\nvar excelMimeTypes = [// .csv\n'text/csv', // TODO: maybe more data files\n// Microsoft Excel\n// .xls .xlt .xla (no test for .xla)\n'application/vnd.ms-excel', // .xlsx\n'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', // .xltx (no test)\n'application/vnd.openxmlformats-officedocument.spreadsheetml.template', // .xlsm\n'application/vnd.ms-excel.sheet.macroEnabled.12', // .xltm (no test)\n'application/vnd.ms-excel.template.macroEnabled.12', // .xlam (no test)\n'application/vnd.ms-excel.addin.macroEnabled.12', // .xlsb (no test)\n'application/vnd.ms-excel.addin.macroEnabled.12', // LibreOffice/OpenOffice Calc\n// .ods\n'application/vnd.oasis.opendocument.spreadsheet', // .ots\n'application/vnd.oasis.opendocument.spreadsheet-template', // .fods\n'application/vnd.oasis.opendocument.spreadsheet-flat-xml' // .uos\n// NOTE: firefox doesn't know mimetype so maybe ignore\n];\nvar powerpointMimeTypes = [// Microsoft Word\n// .ppt .pot .pps .ppa (no test for .ppa)\n'application/vnd.ms-powerpoint', // .pptx\n'application/vnd.openxmlformats-officedocument.presentationml.presentation', // .potx (no test)\n'application/vnd.openxmlformats-officedocument.presentationml.template', // .ppsx\n'application/vnd.openxmlformats-officedocument.presentationml.slideshow', // .ppam\n'application/vnd.ms-powerpoint.addin.macroEnabled.12', // .pptm\n'application/vnd.ms-powerpoint.presentation.macroEnabled.12', // .potm\n'application/vnd.ms-powerpoint.template.macroEnabled.12', // .ppsm\n'application/vnd.ms-powerpoint.slideshow.macroEnabled.12', // LibreOffice/OpenOffice Writer\n// .odp\n'application/vnd.oasis.opendocument.presentation', // .otp\n'application/vnd.oasis.opendocument.presentation-template', // .fodp\n'application/vnd.oasis.opendocument.presentation-flat-xml' // .uop\n// NOTE: firefox doesn't know mimetype so maybe ignore\n];\nvar archiveFileTypes = [// .zip\n'application/zip', // .z7\n'application/x-7z-compressed', // .ar\n'application/x-archive', // .tar\n'application/x-tar', // .tar.gz\n'application/gzip', // .tar.Z\n'application/x-compress', // .tar.bz2\n'application/x-bzip', // .tar.lz\n'application/x-lzip', // .tar.lz4\n'application/x-lz4', // .tar.lzma\n'application/x-lzma', // .tar.lzo (no test)\n'application/x-lzop', // .tar.xz\n'application/x-xz', // .war\n'application/x-webarchive', // .rar\n'application/vnd.rar'];\nvar codeFileTypes = [// .html .htm\n'text/html', // .css\n'text/css', // .js\n'application/x-javascript', // .json\n'application/json', // .py\n'text/x-python', // .go\n'text/x-go', // .c\n'text/x-csrc', // .cpp\n'text/x-c++src', // .rb\n'application/x-ruby', // .rust\n'text/rust', // .java\n'text/x-java', // .php\n'application/x-php', // .cs\n'text/x-csharp', // .scala\n'text/x-scala', // .erl\n'text/x-erlang', // .sh\n'application/x-shellscript'];\nvar mimeTypeToIconMap = {\n  'application/pdf': faFilePdf\n};\nvar mimeTypeToFallBackStyle = {\n  'application/pdf': defaultStyles.pdf\n};\n\nfor (var _i = 0, _wordMimeTypes = wordMimeTypes; _i < _wordMimeTypes.length; _i++) {\n  var type = _wordMimeTypes[_i];\n  mimeTypeToIconMap[type] = faFileWord;\n  mimeTypeToFallBackStyle[type] = {\n    type: 'document'\n  };\n}\n\nfor (var _i2 = 0, _excelMimeTypes = excelMimeTypes; _i2 < _excelMimeTypes.length; _i2++) {\n  var _type = _excelMimeTypes[_i2];\n  mimeTypeToIconMap[_type] = faFileExcel;\n  mimeTypeToFallBackStyle[_type] = {\n    type: 'spreadsheet'\n  };\n}\n\nfor (var _i3 = 0, _powerpointMimeTypes = powerpointMimeTypes; _i3 < _powerpointMimeTypes.length; _i3++) {\n  var _type2 = _powerpointMimeTypes[_i3];\n  mimeTypeToIconMap[_type2] = faFilePowerpoint;\n  mimeTypeToFallBackStyle[_type2] = {\n    type: 'presentation'\n  };\n}\n\nfor (var _i4 = 0, _archiveFileTypes = archiveFileTypes; _i4 < _archiveFileTypes.length; _i4++) {\n  var _type3 = _archiveFileTypes[_i4];\n  mimeTypeToIconMap[_type3] = faFileArchive;\n  mimeTypeToFallBackStyle[_type3] = {\n    type: 'compressed'\n  };\n}\n\nfor (var _i5 = 0, _codeFileTypes = codeFileTypes; _i5 < _codeFileTypes.length; _i5++) {\n  var _type4 = _codeFileTypes[_i5];\n  mimeTypeToIconMap[_type4] = faFileCode;\n  mimeTypeToFallBackStyle[_type4] = {\n    type: 'code'\n  };\n}\n\nfunction mimeTypeToIcon(mimeType) {\n  if (mimeType == null) {\n    return faFile;\n  }\n\n  var icon = mimeTypeToIconMap[mimeType];\n\n  if (icon) {\n    return icon;\n  }\n\n  if (mimeType.startsWith('audio/')) {\n    return faFileAudio;\n  }\n\n  if (mimeType.startsWith('video/')) {\n    return faFileVideo;\n  }\n\n  if (mimeType.startsWith('image/')) {\n    return faFileImage;\n  }\n\n  if (mimeType.startsWith('text/')) {\n    return faFileAlt;\n  }\n\n  return faFile;\n}\n\nfunction mimeTypeToStyle(mimeType) {\n  if (mimeType == null) {\n    return {};\n  }\n\n  var style = mimeTypeToStyle[mimeType];\n\n  if (style) {\n    return style;\n  }\n\n  if (mimeType.startsWith('audio/')) {\n    return {\n      type: 'audio'\n    };\n  }\n\n  if (mimeType.startsWith('video/')) {\n    return {\n      type: 'video'\n    };\n  }\n\n  if (mimeType.startsWith('image/')) {\n    return {\n      type: 'image'\n    };\n  }\n\n  if (mimeType.startsWith('text/')) {\n    return {\n      type: 'document'\n    };\n  }\n\n  return {};\n}\n\nfunction fileExtension(filename) {\n  var defaultReturn = {\n    full: '',\n    end: ''\n  };\n\n  if (filename == null) {\n    return defaultReturn;\n  } // source: https://stackoverflow.com/a/1203361/2570866\n\n\n  var a = filename.split('.');\n\n  if (a.length === 1 || a[0] === '' && a.length === 2) {\n    return defaultReturn;\n  }\n\n  var lastExtension = a.pop().toLowerCase();\n\n  if (a.length === 1 || a[0] === '' && a.length === 2) {\n    return {\n      end: lastExtension,\n      full: lastExtension\n    };\n  }\n\n  var secondToLastExtension = a.pop().toLowerCase();\n\n  if (secondToLastExtension !== 'tar') {\n    return {\n      end: lastExtension,\n      full: lastExtension\n    };\n  }\n\n  return {\n    full: secondToLastExtension + '.' + lastExtension,\n    end: lastExtension\n  };\n}\n/**\n * @example ./examples/FileIcon.md\n */\n\n\nvar FileIcon = /*#__PURE__*/function (_React$Component) {\n  _inherits(FileIcon, _React$Component);\n\n  function FileIcon() {\n    _classCallCheck(this, FileIcon);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileIcon).apply(this, arguments));\n  }\n\n  _createClass(FileIcon, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          size = _this$props.size,\n          big = _this$props.big,\n          filename = _this$props.filename,\n          mimeType = _this$props.mimeType;\n\n      if (big) {\n        var extension = fileExtension(filename);\n        var style = defaultStyles[extension.end];\n\n        if (!style) {\n          style = mimeTypeToStyle(style);\n        }\n\n        return /*#__PURE__*/createElement(BigFileIcon, _extends({\n          extension: extension.full\n        }, style, {\n          size: size\n        }));\n      }\n\n      return /*#__PURE__*/createElement(FontAwesomeIcon, {\n        className: \"rfu-file-icon--small\",\n        icon: mimeTypeToIcon(mimeType)\n      });\n    }\n  }]);\n\n  return FileIcon;\n}(Component);\n\n_defineProperty(FileIcon, \"defaultProps\", {\n  big: false,\n  size: 50\n});\n/**\n * Component is described here.\n *\n * @example ./examples/LoadingIndicator.md\n */\n\n\nvar LoadingIndicator = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(LoadingIndicator, _React$PureComponent);\n\n  function LoadingIndicator() {\n    _classCallCheck(this, LoadingIndicator);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LoadingIndicator).apply(this, arguments));\n  }\n\n  _createClass(LoadingIndicator, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/createElement(\"div\", {\n        className: \"rfu-loading-indicator__spinner\",\n        style: {\n          margin: '0 auto',\n          borderColor: this.props.backgroundColor ? this.props.backgroundColor : '',\n          borderTopColor: this.props.color ? this.props.color : '',\n          width: this.props.size ? this.props.size : '',\n          height: this.props.size ? this.props.size : '',\n          borderWidth: this.props.width ? this.props.width : ''\n        }\n      });\n    }\n  }]);\n\n  return LoadingIndicator;\n}(PureComponent);\n\n_defineProperty(LoadingIndicator, \"defaultProps\", {\n  size: 20,\n  width: 2\n});\n/**\n * Component that displays files which are being uploaded\n *\n * @example ./examples/FilePreviewer.md\n */\n\n\nvar FilePreviewer = /*#__PURE__*/function (_React$Component) {\n  _inherits(FilePreviewer, _React$Component);\n\n  function FilePreviewer() {\n    _classCallCheck(this, FilePreviewer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FilePreviewer).apply(this, arguments));\n  }\n\n  _createClass(FilePreviewer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          uploads = _this$props.uploads,\n          handleRemove = _this$props.handleRemove,\n          handleRetry = _this$props.handleRetry;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"rfu-file-previewer\"\n      }, /*#__PURE__*/React__default.createElement(\"ol\", null, uploads && uploads.map(function (upload) {\n        return /*#__PURE__*/React__default.createElement(\"li\", {\n          key: upload.id,\n          className: \"rfu-file-previewer__file \".concat(upload.state === 'uploading' ? 'rfu-file-previewer__file--uploading' : '', \" \").concat(upload.state === 'failed' ? 'rfu-file-previewer__file--failed' : '')\n        }, /*#__PURE__*/React__default.createElement(FileIcon, {\n          mimeType: upload.file.type,\n          filename: upload.file.name\n        }), /*#__PURE__*/React__default.createElement(\"a\", {\n          href: upload.url,\n          download: true\n        }, upload.file.name, upload.state === 'failed' && /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"rfu-file-previewer__failed\",\n          onClick: handleRetry && function () {\n            return handleRetry(upload.id);\n          }\n        }, \"failed\"), /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"rfu-file-previewer__retry\",\n          onClick: handleRetry && function () {\n            return handleRetry(upload.id);\n          }\n        }, \"retry\"))), /*#__PURE__*/React__default.createElement(\"span\", {\n          className: \"rfu-file-previewer__close-button\",\n          onClick: handleRemove && function () {\n            return handleRemove(upload.id);\n          }\n        }, \"\\u2718\"), upload.state === 'uploading' && /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"rfu-file-previewer__loading-indicator\"\n        }, /*#__PURE__*/React__default.createElement(LoadingIndicator, null)));\n      })));\n    }\n  }]);\n\n  return FilePreviewer;\n}(React__default.Component);\n/**\n * An icon of a paperclip, which is used as the default icon for FileUploadButton\n *\n * @example ./examples/AttachmentIcon.md\n */\n\n\nvar AttachmentIcon = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AttachmentIcon, _React$PureComponent);\n\n  function AttachmentIcon() {\n    _classCallCheck(this, AttachmentIcon);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AttachmentIcon).apply(this, arguments));\n  }\n\n  _createClass(AttachmentIcon, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/createElement(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"24\",\n        height: \"20\",\n        viewBox: \"0 0 24 24\"\n      }, /*#__PURE__*/createElement(\"path\", {\n        d: \"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"\n      }), /*#__PURE__*/createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n      }));\n    }\n  }]);\n\n  return AttachmentIcon;\n}(PureComponent);\n/**\n * Component is described here.\n *\n * @example ./examples/FileUploadButton.md\n */\n\n\nvar FileUploadButton = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(FileUploadButton, _React$PureComponent);\n\n  function FileUploadButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FileUploadButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FileUploadButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", void 0);\n\n    return _this;\n  }\n\n  _createClass(FileUploadButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var className = 'rfu-file-upload-button';\n\n      if (this.props.disabled) {\n        className = \"\".concat(className, \" rfu-file-upload-button--disabled\");\n      }\n\n      return /*#__PURE__*/createElement(\"div\", {\n        className: className\n      }, /*#__PURE__*/createElement(\"label\", null, /*#__PURE__*/createElement(\"input\", {\n        type: \"file\",\n        ref: function ref(_ref) {\n          return _this2.inputRef = _ref;\n        },\n        className: \"rfu-file-input\",\n        onChange: function onChange(event) {\n          _this2.props.handleFiles(event.currentTarget.files);\n\n          if (_this2.inputRef !== null && _this2.inputRef !== undefined) {\n            _this2.inputRef.value = '';\n\n            _this2.inputRef.blur();\n          }\n        },\n        multiple: this.props.multiple,\n        disabled: this.props.disabled,\n        accept: this.props.accepts && _typeof(this.props.accepts) === 'object' ? this.props.accepts.join(',') : this.props.accepts\n      }), this.props.children));\n    }\n  }]);\n\n  return FileUploadButton;\n}(PureComponent);\n\n_defineProperty(FileUploadButton, \"defaultProps\", {\n  multiple: false,\n  children: /*#__PURE__*/createElement(AttachmentIcon, null),\n  disabled: false\n});\n\nvar ImageDropzone = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ImageDropzone, _React$PureComponent);\n\n  function ImageDropzone() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ImageDropzone);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ImageDropzone)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleFiles\", function (accepted) {\n      var handleFiles = _this.props.handleFiles;\n\n      if (!handleFiles) {\n        return;\n      }\n\n      if (accepted && accepted.length) {\n        return handleFiles(accepted);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(ImageDropzone, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          handleFiles = _this$props.handleFiles,\n          maxNumberOfFiles = _this$props.maxNumberOfFiles,\n          children = _this$props.children;\n      return /*#__PURE__*/createElement(Dropzone, {\n        onDrop: handleFiles && this._handleFiles,\n        maxFiles: maxNumberOfFiles,\n        disableClick: true,\n        disablePreview: true //style={{position: 'absolute', height: '100%', width: '100%', zIndex: -1000000}}\n        ,\n        accept: this.props.accept,\n        multiple: this.props.multiple,\n        disabled: this.props.disabled\n      }, function (_ref) {\n        var getRootProps = _ref.getRootProps,\n            isDragAccept = _ref.isDragAccept,\n            isDragReject = _ref.isDragReject;\n        return /*#__PURE__*/createElement(\"div\", getRootProps({\n          style: {\n            position: 'relative'\n          },\n          className: \"\\n            rfu-dropzone\\n            \".concat(isDragAccept ? 'rfu-dropzone--accept' : '', \"\\n            \").concat(isDragReject ? 'rfu-dropzone--reject' : '', \"\\n          \")\n        }), /*#__PURE__*/createElement(\"div\", {\n          className: \"rfu-dropzone__notifier\"\n        }, /*#__PURE__*/createElement(\"div\", {\n          className: \"rfu-dropzone__inner\"\n        }, /*#__PURE__*/createElement(\"svg\", {\n          width: \"41\",\n          height: \"41\",\n          viewBox: \"0 0 41 41\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, /*#__PURE__*/createElement(\"path\", {\n          d: \"M40.517 28.002V3.997c0-2.197-1.808-3.992-4.005-3.992H12.507a4.004 4.004 0 0 0-3.992 3.993v24.004a4.004 4.004 0 0 0 3.992 3.993h24.005c2.197 0 4.005-1.795 4.005-3.993zm-22.002-7.997l4.062 5.42 5.937-7.423 7.998 10H12.507l6.008-7.997zM.517 8.003V36c0 2.198 1.795 4.005 3.993 4.005h27.997V36H4.51V8.002H.517z\",\n          fill: \"#000\",\n          fillRule: \"nonzero\"\n        })), /*#__PURE__*/createElement(\"p\", null, \"Drag your files here to add to your post\"))), children);\n      });\n    }\n  }]);\n\n  return ImageDropzone;\n}(PureComponent);\n\n_defineProperty(ImageDropzone, \"defaultProps\", {\n  multiple: true,\n  disabled: false,\n  maxNumberOfFiles: 10\n});\n/**\n * This is simply a button wrapper, add's a div with `role=\"button\"` and a onClick\n * @example ./examples/IconButton.md\n */\n\n\nvar IconButton = /*#__PURE__*/function (_React$Component) {\n  _inherits(IconButton, _React$Component);\n\n  function IconButton() {\n    _classCallCheck(this, IconButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IconButton).apply(this, arguments));\n  }\n\n  _createClass(IconButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onClick = _this$props.onClick,\n          children = _this$props.children;\n      return /*#__PURE__*/createElement(\"div\", {\n        className: \"rfu-icon-button\",\n        role: \"button\",\n        onClick: onClick\n      }, children);\n    }\n  }]);\n\n  return IconButton;\n}(Component);\n\nvar placeholder = \"data:image/png;base64,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\";\n/**\n * Component is described here.\n *\n * @example ./examples/Thumbnail.md\n */\n\nvar Thumbnail = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Thumbnail, _React$PureComponent);\n\n  function Thumbnail(props) {\n    var _this;\n\n    _classCallCheck(this, Thumbnail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Thumbnail).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleClose\", function () {\n      if (_this.props.handleClose) {\n        _this.props.handleClose(_this.props.id);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_processImage\", function () {\n      var image = _this.props.image;\n      /** \n        if the file is already uploaded we don't need to process the image\n        we check to see if it's base64 string or a url\n       */\n\n      if (!image.indexOf('data:')) {\n        return _this.setState({\n          imgSrc: image\n        });\n      }\n\n      loadImage(image, function (img) {\n        if (!img.toDataURL) return;\n        var base64data = img.toDataURL('image/jpeg');\n\n        _this.setState({\n          imgSrc: base64data\n        });\n      }, {\n        orientation: true,\n        crossOrigin: true,\n        meta: true\n      });\n    });\n\n    _this.state = {\n      imgSrc: null\n    };\n    return _this;\n  }\n\n  _createClass(Thumbnail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._processImage();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var imgSrc = this.state.imgSrc;\n      var image = this.props.image;\n\n      if (!imgSrc && prevProps.image !== image) {\n        this._processImage();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          handleClose = _this$props.handleClose,\n          size = _this$props.size;\n      var svg = '<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><path d=\"M465 5c5.53 0 10 4.47 10 10s-4.47 10-10 10-10-4.47-10-10 4.47-10 10-10zm3.59 5L465 13.59 461.41 10 460 11.41l3.59 3.59-3.59 3.59 1.41 1.41 3.59-3.59 3.59 3.59 1.41-1.41-3.59-3.59 3.59-3.59-1.41-1.41z\" id=\"b\"/><filter x=\"-30%\" y=\"-30%\" width=\"160%\" height=\"160%\" filterUnits=\"objectBoundingBox\" id=\"a\"><feOffset in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"2\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/><feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\" in=\"shadowBlurOuter1\"/></filter></defs><g transform=\"translate(-451 -1)\" fill-rule=\"nonzero\" fill=\"none\"><use fill=\"#000\" filter=\"url(#a)\" xlink:href=\"#b\"/><use fill=\"#FFF\" fill-rule=\"evenodd\" xlink:href=\"#b\"/></g></svg>';\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"rfu-thumbnail__wrapper\",\n        style: {\n          width: size,\n          height: size\n        }\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"rfu-thumbnail__overlay\"\n      }, handleClose ? /*#__PURE__*/React__default.createElement(IconButton, {\n        onClick: this._handleClose\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: svg\n        }\n      })) : null), /*#__PURE__*/React__default.createElement(\"img\", {\n        src: this.state.imgSrc || this.props.image || placeholder,\n        className: \"rfu-thumbnail__image\",\n        alt: \"\"\n      }));\n    }\n  }]);\n\n  return Thumbnail;\n}(React__default.PureComponent);\n\n_defineProperty(Thumbnail, \"defaultProps\", {\n  size: 100 // image: placeholder,\n\n});\n/**\n * An icon of a picture, which is used as the default icon for ImageUploadButton\n *\n * @example ./examples/PictureIcon.md\n */\n\n\nvar PictureIcon = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(PictureIcon, _React$PureComponent);\n\n  function PictureIcon() {\n    _classCallCheck(this, PictureIcon);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PictureIcon).apply(this, arguments));\n  }\n\n  _createClass(PictureIcon, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/createElement(\"svg\", {\n        width: \"20\",\n        height: \"20\",\n        viewBox: \"0 0 20 20\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/createElement(\"path\", {\n        d: \"M2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm3 2a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM2 16v2h16v-6l-3-3-6 6-3-3-4 4z\",\n        fillRule: \"nonzero\"\n      }));\n    }\n  }]);\n\n  return PictureIcon;\n}(PureComponent);\n/**\n * Component is described here.\n *\n * @example ./examples/ImageUploadButton.md\n */\n\n\nvar ImageUploadButton = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ImageUploadButton, _React$PureComponent);\n\n  function ImageUploadButton() {\n    _classCallCheck(this, ImageUploadButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ImageUploadButton).apply(this, arguments));\n  }\n\n  _createClass(ImageUploadButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return /*#__PURE__*/createElement(\"div\", {\n        className: \"rfu-image-upload-button\"\n      }, /*#__PURE__*/createElement(\"label\", null, /*#__PURE__*/createElement(\"input\", {\n        type: \"file\",\n        className: \"rfu-image-input\",\n        onChange: function onChange(event) {\n          _this.props.handleFiles(event.currentTarget.files);\n        },\n        accept: \"image/*\",\n        multiple: this.props.multiple,\n        disabled: this.props.disabled\n      }), this.props.children));\n    }\n  }]);\n\n  return ImageUploadButton;\n}(PureComponent);\n\n_defineProperty(ImageUploadButton, \"defaultProps\", {\n  multiple: false,\n  disabled: false,\n  children: /*#__PURE__*/createElement(PictureIcon, null)\n});\n/**\n * Component is described here.\n *\n * @example ./examples/ThumbnailPlaceholder.md\n */\n\n\nvar ThumbnailPlaceholder = /*#__PURE__*/function (_React$Component) {\n  _inherits(ThumbnailPlaceholder, _React$Component);\n\n  function ThumbnailPlaceholder() {\n    _classCallCheck(this, ThumbnailPlaceholder);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ThumbnailPlaceholder).apply(this, arguments));\n  }\n\n  _createClass(ThumbnailPlaceholder, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          handleFiles = _this$props.handleFiles,\n          multiple = _this$props.multiple;\n      return /*#__PURE__*/React__default.createElement(ImageUploadButton, {\n        handleFiles: handleFiles,\n        multiple: multiple\n      }, /*#__PURE__*/React__default.createElement(\"div\", {\n        role: \"button\",\n        className: \"rfu-thumbnail-placeholder\"\n      }, /*#__PURE__*/React__default.createElement(\"svg\", {\n        width: \"14\",\n        height: \"15\",\n        viewBox: \"0 0 14 15\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, /*#__PURE__*/React__default.createElement(\"path\", {\n        d: \"M14 8.998H8v6H6v-6H0v-2h6v-6h2v6h6z\",\n        fill: \"#A0B2B8\",\n        fillRule: \"nonzero\"\n      }))));\n    }\n  }]);\n\n  return ThumbnailPlaceholder;\n}(React__default.Component);\n\n_defineProperty(ThumbnailPlaceholder, \"defaultProps\", {\n  multiple: false\n});\n/**\n * Component is described here.\n *\n * @example ./examples/ImagePreviewer.md\n */\n\n\nvar ImagePreviewer = /*#__PURE__*/function (_React$Component) {\n  _inherits(ImagePreviewer, _React$Component);\n\n  function ImagePreviewer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ImagePreviewer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ImagePreviewer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleClose\", function (id) {\n      if (_this.props.handleRemove) {\n        if (id == null) {\n          console.warn(\"id of closed image was undefined, this shouldn't happen\");\n          return;\n        }\n\n        _this.props.handleRemove(id);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(ImagePreviewer, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          imageUploads = _this$props.imageUploads,\n          handleRemove = _this$props.handleRemove,\n          handleRetry = _this$props.handleRetry,\n          handleFiles = _this$props.handleFiles;\n      return /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"rfu-image-previewer\"\n      }, imageUploads && imageUploads.map(function (image) {\n        var url = image.url || image.previewUri;\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          key: image.id,\n          className: \"rfu-image-previewer__image\".concat(image.state === 'finished' ? ' rfu-image-previewer__image--loaded' : '')\n        }, image.state === 'failed' && /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"rfu-image-previewer__retry\",\n          dangerouslySetInnerHTML: {\n            __html: '<svg width=\"22\" height=\"20\" viewBox=\"0 0 22 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 5.535V2a1 1 0 0 1 2 0v6a1 1 0 0 1-1 1h-6a1 1 0 0 1 0-2h3.638l-2.975-2.653a8 8 0 1 0 1.884 8.32 1 1 0 1 1 1.886.666A10 10 0 1 1 5.175 1.245c3.901-2.15 8.754-1.462 11.88 1.667L20 5.535z\" fill=\"#FFF\" fill-rule=\"nonzero\"/></svg>'\n          },\n          onClick: handleRetry && function () {\n            return handleRetry(image.id);\n          }\n        }), url !== undefined && /*#__PURE__*/React__default.createElement(Thumbnail, {\n          handleClose: handleRemove && _this2._handleClose,\n          image: url,\n          id: image.id\n        }), image.state === 'uploading' && /*#__PURE__*/React__default.createElement(LoadingIndicator, {\n          backgroundColor: \"rgba(255,255,255,0.1)\",\n          color: \"rgba(255,255,255,0.7)\"\n        }));\n      }), handleFiles && !this.props.disabled && /*#__PURE__*/React__default.createElement(ThumbnailPlaceholder, {\n        handleFiles: handleFiles,\n        multiple: this.props.multiple\n      }));\n    }\n  }]);\n\n  return ImagePreviewer;\n}(React__default.Component);\n\n_defineProperty(ImagePreviewer, \"defaultProps\", {\n  multiple: true,\n  disabled: false\n});\n\nfunction dataTransferItemsHaveFiles(items) {\n  if (!items || !items.length) {\n    return false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var item = _step.value;\n\n      if (item.kind === 'file' || item.type === 'text/html') {\n        return true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction getFileLikes(items) {\n  var fileLikes = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = items[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var item = _step2.value;\n\n      if (item.kind === 'file') {\n        var file = item.getAsFile();\n\n        if (file) {\n          fileLikes.push(file);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return fileLikes;\n}\n\nfunction getImageSource(fileLikes, src) {\n  var res, contentType, buf, blob;\n  return _regeneratorRuntime.async(function getImageSource$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(src));\n\n        case 3:\n          res = _context.sent;\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\");\n\n        case 9:\n          contentType = res.headers.get('Content-type') || 'application/octet-stream';\n          _context.next = 12;\n          return _regeneratorRuntime.awrap(res.arrayBuffer());\n\n        case 12:\n          buf = _context.sent;\n          blob = new Blob([buf], {\n            type: contentType\n          });\n          fileLikes.push(blob);\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 6]]);\n}\n\nvar extractImageSources = function extractImageSources(s) {\n  var imageTags = new DOMParser().parseFromString(s, 'text/html').getElementsByTagName('img');\n  return Array.from(imageTags, function (tag) {\n    return tag.src;\n  }).filter(function (tag) {\n    return tag;\n  });\n};\n\nfunction dataTransferItemsToFiles(items) {\n  var fileLikes, blobPromises, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _loop, _iterator3, _step3;\n\n  return _regeneratorRuntime.async(function dataTransferItemsToFiles$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(!items || !items.length)) {\n            _context3.next = 2;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", []);\n\n        case 2:\n          // If there are files inside the DataTransferItem prefer those\n          fileLikes = getFileLikes(items);\n\n          if (!fileLikes.length) {\n            _context3.next = 5;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", fileLikes);\n\n        case 5:\n          // Otherwise extract images from html\n          blobPromises = [];\n          _iteratorNormalCompletion3 = true;\n          _didIteratorError3 = false;\n          _iteratorError3 = undefined;\n          _context3.prev = 9;\n\n          _loop = function _loop() {\n            var item = _step3.value;\n\n            if (item.type === 'text/html') {\n              blobPromises.push(new Promise(function (accept) {\n                item.getAsString(function _callee(s) {\n                  var imagePromises;\n                  return _regeneratorRuntime.async(function _callee$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          imagePromises = extractImageSources(s).map(function (src) {\n                            return getImageSource(fileLikes, src);\n                          });\n                          _context2.next = 3;\n                          return _regeneratorRuntime.awrap(Promise.all(imagePromises));\n\n                        case 3:\n                          accept();\n\n                        case 4:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  });\n                });\n              }));\n            }\n          };\n\n          for (_iterator3 = items[Symbol.iterator](); !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            _loop();\n          }\n\n          _context3.next = 18;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3[\"catch\"](9);\n          _didIteratorError3 = true;\n          _iteratorError3 = _context3.t0;\n\n        case 18:\n          _context3.prev = 18;\n          _context3.prev = 19;\n\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n\n        case 21:\n          _context3.prev = 21;\n\n          if (!_didIteratorError3) {\n            _context3.next = 24;\n            break;\n          }\n\n          throw _iteratorError3;\n\n        case 24:\n          return _context3.finish(21);\n\n        case 25:\n          return _context3.finish(18);\n\n        case 26:\n          _context3.next = 28;\n          return _regeneratorRuntime.awrap(Promise.all(blobPromises));\n\n        case 28:\n          return _context3.abrupt(\"return\", fileLikes);\n\n        case 29:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[9, 14, 18, 26], [19,, 21, 25]]);\n}\n\nexport { AttachmentIcon, FileIcon, FilePreviewer, FileUploadButton, IconButton, ImageDropzone, ImagePreviewer, ImageUploadButton, LoadingIndicator, PictureIcon, Thumbnail, ThumbnailPlaceholder, dataTransferItemsHaveFiles, dataTransferItemsToFiles };","map":{"version":3,"sources":["../src/components/FileIcon.js","../src/components/LoadingIndicator.js","../src/components/FilePreviewer.js","../src/components/AttachmentIcon.js","../src/components/FileUploadButton.js","../src/components/ImageDropzone.js","../src/components/IconButton.js","../src/images/placeholder-generic.png","../src/components/Thumbnail.js","../src/components/PictureIcon.js","../src/components/ImageUploadButton.js","../src/components/ThumbnailPlaceholder.js","../src/components/ImagePreviewer.js","../src/utils.js"],"names":["wordMimeTypes","excelMimeTypes","powerpointMimeTypes","archiveFileTypes","codeFileTypes","mimeTypeToIconMap","faFilePdf","mimeTypeToFallBackStyle","defaultStyles","pdf","type","mimeType","icon","style","mimeTypeToStyle","defaultReturn","full","end","filename","a","lastExtension","secondToLastExtension","FileIcon","React","big","size","extension","fileExtension","React.createElement","mimeTypeToIcon","LoadingIndicator","width","margin","borderColor","borderTopColor","height","borderWidth","FilePreviewer","Component","uploads","handleRemove","handleRetry","upload","name","AttachmentIcon","FileUploadButton","multiple","children","disabled","className","event","accepts","ImageDropzone","maxNumberOfFiles","handleFiles","accepted","getRootProps","isDragAccept","isDragReject","position","IconButton","onClick","Thumbnail","PureComponent","imgSrc","prevProps","image","loadImage","img","base64data","orientation","crossOrigin","meta","handleClose","svg","_handleClose","__html","PictureIcon","ImageUploadButton","ThumbnailPlaceholder","ImagePreviewer","id","console","imageUploads","url","items","item","fileLikes","file","res","fetch","contentType","buf","blob","extractImageSources","imageTags","tag","getFileLikes","blobPromises","imagePromises","getImageSource","Promise","accept"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { default as BigFileIcon, defaultStyles } from 'react-file-icon';\nimport {\n  faFileWord,\n  faFileExcel,\n  faFilePowerpoint,\n  faFileArchive,\n  faFileCode,\n  faFileAudio,\n  faFileVideo,\n  faFileImage,\n  faFilePdf,\n  faFileAlt,\n  faFile,\n} from '@fortawesome/free-regular-svg-icons';\n\nexport type Props = {|\n  filename: ?string,\n  mimeType: ?string,\n  big: boolean,\n  // Size used for big icon\n  size: number,\n|};\n\n// Partially based on:\n// https://stackoverflow.com/a/4212908/2570866\n\nconst wordMimeTypes = [\n  // Microsoft Word\n  // .doc .dot\n  'application/msword',\n  // .doc .dot\n  'application/msword-template',\n  // .docx\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  // .dotx (no test)\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  // .docm\n  'application/vnd.ms-word.document.macroEnabled.12',\n  // .dotm (no test)\n  'application/vnd.ms-word.template.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odt\n  'application/vnd.oasis.opendocument.text',\n  // .ott\n  'application/vnd.oasis.opendocument.text-template',\n  // .fodt\n  'application/vnd.oasis.opendocument.text-flat-xml',\n  // .uot\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst excelMimeTypes = [\n  // .csv\n  'text/csv',\n  // TODO: maybe more data files\n\n  // Microsoft Excel\n  // .xls .xlt .xla (no test for .xla)\n  'application/vnd.ms-excel',\n  // .xlsx\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  // .xltx (no test)\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  // .xlsm\n  'application/vnd.ms-excel.sheet.macroEnabled.12',\n  // .xltm (no test)\n  'application/vnd.ms-excel.template.macroEnabled.12',\n  // .xlam (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n  // .xlsb (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Calc\n  // .ods\n  'application/vnd.oasis.opendocument.spreadsheet',\n  // .ots\n  'application/vnd.oasis.opendocument.spreadsheet-template',\n  // .fods\n  'application/vnd.oasis.opendocument.spreadsheet-flat-xml',\n  // .uos\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst powerpointMimeTypes = [\n  // Microsoft Word\n  // .ppt .pot .pps .ppa (no test for .ppa)\n  'application/vnd.ms-powerpoint',\n  // .pptx\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  // .potx (no test)\n  'application/vnd.openxmlformats-officedocument.presentationml.template',\n  // .ppsx\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  // .ppam\n  'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n  // .pptm\n  'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n  // .potm\n  'application/vnd.ms-powerpoint.template.macroEnabled.12',\n  // .ppsm\n  'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odp\n  'application/vnd.oasis.opendocument.presentation',\n  // .otp\n  'application/vnd.oasis.opendocument.presentation-template',\n  // .fodp\n  'application/vnd.oasis.opendocument.presentation-flat-xml',\n  // .uop\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst archiveFileTypes = [\n  // .zip\n  'application/zip',\n  // .z7\n  'application/x-7z-compressed',\n  // .ar\n  'application/x-archive',\n  // .tar\n  'application/x-tar',\n  // .tar.gz\n  'application/gzip',\n  // .tar.Z\n  'application/x-compress',\n  // .tar.bz2\n  'application/x-bzip',\n  // .tar.lz\n  'application/x-lzip',\n  // .tar.lz4\n  'application/x-lz4',\n  // .tar.lzma\n  'application/x-lzma',\n  // .tar.lzo (no test)\n  'application/x-lzop',\n  // .tar.xz\n  'application/x-xz',\n  // .war\n  'application/x-webarchive',\n  // .rar\n  'application/vnd.rar',\n];\n\nconst codeFileTypes = [\n  // .html .htm\n  'text/html',\n  // .css\n  'text/css',\n  // .js\n  'application/x-javascript',\n  // .json\n  'application/json',\n  // .py\n  'text/x-python',\n  // .go\n  'text/x-go',\n  // .c\n  'text/x-csrc',\n  // .cpp\n  'text/x-c++src',\n  // .rb\n  'application/x-ruby',\n  // .rust\n  'text/rust',\n  // .java\n  'text/x-java',\n  // .php\n  'application/x-php',\n  // .cs\n  'text/x-csharp',\n  // .scala\n  'text/x-scala',\n  // .erl\n  'text/x-erlang',\n  // .sh\n  'application/x-shellscript',\n];\n\nconst mimeTypeToIconMap: { [string]: string } = {\n  'application/pdf': faFilePdf,\n};\n\nconst mimeTypeToFallBackStyle: { [string]: {} } = {\n  'application/pdf': defaultStyles.pdf,\n};\n\nfor (const type of wordMimeTypes) {\n  mimeTypeToIconMap[type] = faFileWord;\n  mimeTypeToFallBackStyle[type] = { type: 'document' };\n}\n\nfor (const type of excelMimeTypes) {\n  mimeTypeToIconMap[type] = faFileExcel;\n  mimeTypeToFallBackStyle[type] = { type: 'spreadsheet' };\n}\n\nfor (const type of powerpointMimeTypes) {\n  mimeTypeToIconMap[type] = faFilePowerpoint;\n  mimeTypeToFallBackStyle[type] = { type: 'presentation' };\n}\n\nfor (const type of archiveFileTypes) {\n  mimeTypeToIconMap[type] = faFileArchive;\n  mimeTypeToFallBackStyle[type] = { type: 'compressed' };\n}\n\nfor (const type of codeFileTypes) {\n  mimeTypeToIconMap[type] = faFileCode;\n  mimeTypeToFallBackStyle[type] = { type: 'code' };\n}\n\nfunction mimeTypeToIcon(mimeType: ?string) {\n  if (mimeType == null) {\n    return faFile;\n  }\n\n  const icon = mimeTypeToIconMap[mimeType];\n  if (icon) {\n    return icon;\n  }\n  if (mimeType.startsWith('audio/')) {\n    return faFileAudio;\n  }\n  if (mimeType.startsWith('video/')) {\n    return faFileVideo;\n  }\n  if (mimeType.startsWith('image/')) {\n    return faFileImage;\n  }\n  if (mimeType.startsWith('text/')) {\n    return faFileAlt;\n  }\n  return faFile;\n}\n\nfunction mimeTypeToStyle(mimeType: ?string) {\n  if (mimeType == null) {\n    return {};\n  }\n\n  const style = mimeTypeToStyle[mimeType];\n  if (style) {\n    return style;\n  }\n  if (mimeType.startsWith('audio/')) {\n    return { type: 'audio' };\n  }\n  if (mimeType.startsWith('video/')) {\n    return { type: 'video' };\n  }\n  if (mimeType.startsWith('image/')) {\n    return { type: 'image' };\n  }\n  if (mimeType.startsWith('text/')) {\n    return { type: 'document' };\n  }\n  return {};\n}\n\nfunction fileExtension(filename: ?string) {\n  const defaultReturn = {\n    full: '',\n    end: '',\n  };\n  if (filename == null) {\n    return defaultReturn;\n  }\n\n  // source: https://stackoverflow.com/a/1203361/2570866\n  const a = filename.split('.');\n  if (a.length === 1 || (a[0] === '' && a.length === 2)) {\n    return defaultReturn;\n  }\n  const lastExtension = a.pop().toLowerCase();\n  if (a.length === 1 || (a[0] === '' && a.length === 2)) {\n    return { end: lastExtension, full: lastExtension };\n  }\n  const secondToLastExtension = a.pop().toLowerCase();\n  if (secondToLastExtension !== 'tar') {\n    return { end: lastExtension, full: lastExtension };\n  }\n  return {\n    full: secondToLastExtension + '.' + lastExtension,\n    end: lastExtension,\n  };\n}\n\n/**\n * @example ./examples/FileIcon.md\n */\nexport default class FileIcon extends React.Component<Props> {\n  static defaultProps = {\n    big: false,\n    size: 50,\n  };\n  render() {\n    const { size, big, filename, mimeType } = this.props;\n    if (big) {\n      const extension = fileExtension(filename);\n      let style = defaultStyles[extension.end];\n      if (!style) {\n        style = mimeTypeToStyle(style);\n      }\n      return <BigFileIcon extension={extension.full} {...style} size={size} />;\n    }\n    return (\n      <FontAwesomeIcon\n        className=\"rfu-file-icon--small\"\n        icon={mimeTypeToIcon(mimeType)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\n\ntype Props = {|\n  color?: string,\n  backgroundColor?: string,\n  size: number,\n  width: number,\n|};\n\n/**\n * Component is described here.\n *\n * @example ./examples/LoadingIndicator.md\n */\nexport default class LoadingIndicator extends React.PureComponent<Props> {\n  static defaultProps = {\n    size: 20,\n    width: 2,\n  };\n  render() {\n    return (\n      <div\n        className=\"rfu-loading-indicator__spinner\"\n        style={{\n          margin: '0 auto',\n          borderColor: this.props.backgroundColor\n            ? this.props.backgroundColor\n            : '',\n          borderTopColor: this.props.color ? this.props.color : '',\n          width: this.props.size ? this.props.size : '',\n          height: this.props.size ? this.props.size : '',\n          borderWidth: this.props.width ? this.props.width : '',\n        }}\n      />\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport FileIcon from './FileIcon';\nimport LoadingIndicator from './LoadingIndicator';\nimport type { FileUpload } from '../types';\n\ntype Props = {|\n  uploads?: FileUpload[],\n  handleRemove?: (id: string) => mixed,\n  handleRetry?: (id: string) => mixed,\n  handleFiles?: (files: File[]) => mixed,\n|};\n\n/**\n * Component that displays files which are being uploaded\n *\n * @example ./examples/FilePreviewer.md\n */\nexport default class FilePreviewer extends React.Component<Props> {\n  render() {\n    const { uploads, handleRemove, handleRetry } = this.props;\n    return (\n      <div className=\"rfu-file-previewer\">\n        <ol>\n          {uploads &&\n            uploads.map((upload) => (\n              <li\n                key={upload.id}\n                className={`rfu-file-previewer__file ${\n                  upload.state === 'uploading'\n                    ? 'rfu-file-previewer__file--uploading'\n                    : ''\n                } ${\n                  upload.state === 'failed'\n                    ? 'rfu-file-previewer__file--failed'\n                    : ''\n                }`}\n              >\n                <FileIcon\n                  mimeType={upload.file.type}\n                  filename={upload.file.name}\n                />\n\n                <a href={upload.url} download>\n                  {upload.file.name}\n                  {upload.state === 'failed' && (\n                    <React.Fragment>\n                      <div\n                        className=\"rfu-file-previewer__failed\"\n                        onClick={handleRetry && (() => handleRetry(upload.id))}\n                      >\n                        failed\n                      </div>\n                      <div\n                        className=\"rfu-file-previewer__retry\"\n                        onClick={handleRetry && (() => handleRetry(upload.id))}\n                      >\n                        retry\n                      </div>\n                    </React.Fragment>\n                  )}\n                </a>\n\n                <span\n                  className=\"rfu-file-previewer__close-button\"\n                  onClick={handleRemove && (() => handleRemove(upload.id))}\n                >\n                  \n                </span>\n                {upload.state === 'uploading' && (\n                  <div className=\"rfu-file-previewer__loading-indicator\">\n                    <LoadingIndicator />\n                  </div>\n                )}\n              </li>\n            ))}\n        </ol>\n      </div>\n    );\n  }\n}\n","//@flow\nimport * as React from 'react';\n\n/**\n * An icon of a paperclip, which is used as the default icon for FileUploadButton\n *\n * @example ./examples/AttachmentIcon.md\n */\nexport default class AttachmentIcon extends React.PureComponent<{}> {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"20\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path d=\"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\" />\n        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n      </svg>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AttachmentIcon from './AttachmentIcon';\n\ntype Props = {|\n  handleFiles: (Blob[]) => mixed,\n  multiple: boolean,\n  children: React.Node,\n  disabled: boolean,\n  accepts?: string | string[],\n|};\n\n/**\n * Component is described here.\n *\n * @example ./examples/FileUploadButton.md\n */\nexport default class FileUploadButton extends React.PureComponent<Props> {\n  inputRef: ?HTMLInputElement;\n  static defaultProps = {\n    multiple: false,\n    children: <AttachmentIcon />,\n    disabled: false,\n  };\n\n  render() {\n    let className = 'rfu-file-upload-button';\n    if (this.props.disabled) {\n      className = `${className} rfu-file-upload-button--disabled`;\n    }\n    return (\n      <div className={className}>\n        <label>\n          <input\n            type=\"file\"\n            ref={(ref) => (this.inputRef = ref)}\n            className=\"rfu-file-input\"\n            onChange={(event) => {\n              this.props.handleFiles(event.currentTarget.files);\n              if (this.inputRef !== null && this.inputRef !== undefined) {\n                this.inputRef.value = '';\n                this.inputRef.blur();\n              }\n            }}\n            multiple={this.props.multiple}\n            disabled={this.props.disabled}\n            accept={\n              this.props.accepts && typeof this.props.accepts === 'object'\n                ? this.props.accepts.join(',')\n                : this.props.accepts\n            }\n          />\n          {this.props.children}\n        </label>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Dropzone from 'react-dropzone';\n\nimport type { FileLike } from '../types';\n\ntype Props = {|\n  children?: React.Node,\n  handleFiles?: (files: $ReadOnlyArray<FileLike>) => mixed,\n  /** Allow drag 'n' drop (or selection from the file dialog) of multiple files */\n  multiple: boolean,\n  /** Enable/disable the dropzone */\n  disabled: boolean,\n  /**\n   * Set accepted file types. See https://github.com/okonet/attr-accept for more information. Keep in mind that mime type determination is not reliable across platforms. CSV files, for example, are reported as text/plain under macOS but as application/vnd.ms-excel under Windows. In some cases there might not be a mime type set at all.\n   *\n   * One of type: `string, string[]`\n   */\n  accept?: string | string[],\n  maxNumberOfFiles?: number,\n|};\n\nexport default class ImageDropzone extends React.PureComponent<Props> {\n  static defaultProps = {\n    multiple: true,\n    disabled: false,\n    maxNumberOfFiles: 10,\n  };\n\n  _handleFiles = (accepted: File[]) => {\n    const { handleFiles } = this.props;\n    if (!handleFiles) {\n      return;\n    }\n\n    if (accepted && accepted.length) {\n      return handleFiles(accepted);\n    }\n  };\n\n  render() {\n    const { handleFiles, maxNumberOfFiles, children } = this.props;\n    return (\n      <Dropzone\n        onDrop={handleFiles && this._handleFiles}\n        maxFiles={maxNumberOfFiles}\n        disableClick\n        disablePreview\n        //style={{position: 'absolute', height: '100%', width: '100%', zIndex: -1000000}}\n        accept={this.props.accept}\n        multiple={this.props.multiple}\n        disabled={this.props.disabled}\n      >\n        {({ getRootProps, isDragAccept, isDragReject }) => (\n          <div\n            {...getRootProps({\n              style: { position: 'relative' },\n              className: `\n            rfu-dropzone\n            ${isDragAccept ? 'rfu-dropzone--accept' : ''}\n            ${isDragReject ? 'rfu-dropzone--reject' : ''}\n          `,\n            })}\n          >\n            <div className=\"rfu-dropzone__notifier\">\n              <div className=\"rfu-dropzone__inner\">\n                <svg\n                  width=\"41\"\n                  height=\"41\"\n                  viewBox=\"0 0 41 41\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M40.517 28.002V3.997c0-2.197-1.808-3.992-4.005-3.992H12.507a4.004 4.004 0 0 0-3.992 3.993v24.004a4.004 4.004 0 0 0 3.992 3.993h24.005c2.197 0 4.005-1.795 4.005-3.993zm-22.002-7.997l4.062 5.42 5.937-7.423 7.998 10H12.507l6.008-7.997zM.517 8.003V36c0 2.198 1.795 4.005 3.993 4.005h27.997V36H4.51V8.002H.517z\"\n                    fill=\"#000\"\n                    fillRule=\"nonzero\"\n                  />\n                </svg>\n                <p>Drag your files here to add to your post</p>\n              </div>\n            </div>\n            {children}\n          </div>\n        )}\n      </Dropzone>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\n\nexport type Props = {|\n  children?: React.Node,\n  onClick?: (e: SyntheticEvent<>) => mixed,\n|};\n\n/**\n * This is simply a button wrapper, add's a div with `role=\"button\"` and a onClick\n * @example ./examples/IconButton.md\n */\nexport default class IconButton extends React.Component<Props> {\n  render() {\n    const { onClick, children } = this.props;\n    return (\n      <div className=\"rfu-icon-button\" role=\"button\" onClick={onClick}>\n        {children}\n      </div>\n    );\n  }\n}\n","export default \"data:image/png;base64,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\"","// @flow\n\nimport React from 'react';\nimport IconButton from './IconButton';\nimport placeholder from '../images/placeholder-generic.png';\n\nimport loadImage from 'blueimp-load-image';\n\nexport type Props = {|\n  handleClose?: (id?: string) => mixed,\n  size: number,\n  image: string,\n  id?: string,\n|};\n\nexport type State = {|\n  imgSrc?: any,\n|};\n\n/**\n * Component is described here.\n *\n * @example ./examples/Thumbnail.md\n */\nexport default class Thumbnail extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    size: 100,\n    // image: placeholder,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      imgSrc: null,\n    };\n  }\n\n  componentDidMount() {\n    this._processImage();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { imgSrc } = this.state;\n    const { image } = this.props;\n    if (!imgSrc && prevProps.image !== image) {\n      this._processImage();\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.handleClose) {\n      this.props.handleClose(this.props.id);\n    }\n  };\n\n  _processImage = () => {\n    const { image } = this.props;\n\n    /** \n      if the file is already uploaded we don't need to process the image\n      we check to see if it's base64 string or a url\n     */\n    if (!image.indexOf('data:')) {\n      return this.setState({ imgSrc: image });\n    }\n\n    loadImage(\n      image,\n      (img) => {\n        if (!img.toDataURL) return;\n        const base64data = img.toDataURL('image/jpeg');\n        this.setState({\n          imgSrc: base64data,\n        });\n      },\n      { orientation: true, crossOrigin: true, meta: true },\n    );\n  };\n\n  render() {\n    const { handleClose, size } = this.props;\n    const svg =\n      '<svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><path d=\"M465 5c5.53 0 10 4.47 10 10s-4.47 10-10 10-10-4.47-10-10 4.47-10 10-10zm3.59 5L465 13.59 461.41 10 460 11.41l3.59 3.59-3.59 3.59 1.41 1.41 3.59-3.59 3.59 3.59 1.41-1.41-3.59-3.59 3.59-3.59-1.41-1.41z\" id=\"b\"/><filter x=\"-30%\" y=\"-30%\" width=\"160%\" height=\"160%\" filterUnits=\"objectBoundingBox\" id=\"a\"><feOffset in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"2\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/><feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\" in=\"shadowBlurOuter1\"/></filter></defs><g transform=\"translate(-451 -1)\" fill-rule=\"nonzero\" fill=\"none\"><use fill=\"#000\" filter=\"url(#a)\" xlink:href=\"#b\"/><use fill=\"#FFF\" fill-rule=\"evenodd\" xlink:href=\"#b\"/></g></svg>';\n    return (\n      <div\n        className=\"rfu-thumbnail__wrapper\"\n        style={{ width: size, height: size }}\n      >\n        <div className=\"rfu-thumbnail__overlay\">\n          {handleClose ? (\n            <IconButton onClick={this._handleClose}>\n              <div dangerouslySetInnerHTML={{ __html: svg }} />\n            </IconButton>\n          ) : null}\n        </div>\n        <img\n          src={this.state.imgSrc || this.props.image || placeholder}\n          className=\"rfu-thumbnail__image\"\n          alt=\"\"\n        />\n      </div>\n    );\n  }\n}\n","//@flow\nimport * as React from 'react';\n\n/**\n * An icon of a picture, which is used as the default icon for ImageUploadButton\n *\n * @example ./examples/PictureIcon.md\n */\nexport default class PictureIcon extends React.PureComponent<{}> {\n  render() {\n    return (\n      <svg\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M2 0h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm3 2a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM2 16v2h16v-6l-3-3-6 6-3-3-4 4z\"\n          fillRule=\"nonzero\"\n        />\n      </svg>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport PictureIcon from './PictureIcon';\n\ntype Props = {|\n  handleFiles: (File[]) => mixed,\n  multiple: boolean,\n  disabled: boolean,\n  children: React.Node,\n|};\n\n/**\n * Component is described here.\n *\n * @example ./examples/ImageUploadButton.md\n */\nexport default class ImageUploadButton extends React.PureComponent<Props> {\n  static defaultProps = {\n    multiple: false,\n    disabled: false,\n    children: <PictureIcon />,\n  };\n  render() {\n    return (\n      <div className=\"rfu-image-upload-button\">\n        <label>\n          <input\n            type=\"file\"\n            className=\"rfu-image-input\"\n            onChange={(event) => {\n              this.props.handleFiles(event.currentTarget.files);\n            }}\n            accept=\"image/*\"\n            multiple={this.props.multiple}\n            disabled={this.props.disabled}\n          />\n          {this.props.children}\n        </label>\n      </div>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport ImageUploadButton from './ImageUploadButton';\n\nexport type Props = {|\n  handleFiles: (files: File[]) => mixed,\n  multiple: boolean,\n|};\n\n/**\n * Component is described here.\n *\n * @example ./examples/ThumbnailPlaceholder.md\n */\nexport default class ThumbnailPlaceholder extends React.Component<Props> {\n  static defaultProps = {\n    multiple: false,\n  };\n  render() {\n    const { handleFiles, multiple } = this.props;\n    return (\n      <ImageUploadButton handleFiles={handleFiles} multiple={multiple}>\n        <div role=\"button\" className=\"rfu-thumbnail-placeholder\">\n          <svg\n            width=\"14\"\n            height=\"15\"\n            viewBox=\"0 0 14 15\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M14 8.998H8v6H6v-6H0v-2h6v-6h2v6h6z\"\n              fill=\"#A0B2B8\"\n              fillRule=\"nonzero\"\n            />\n          </svg>\n        </div>\n      </ImageUploadButton>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport Thumbnail from './Thumbnail';\nimport LoadingIndicator from './LoadingIndicator';\nimport ThumbnailPlaceholder from './ThumbnailPlaceholder';\nimport type { ImageUpload } from '../types';\n\ntype Props = {|\n  /** The list of image uploads that should be displayed */\n  imageUploads?: ImageUpload[],\n  /** A callback to call when the remove icon is clicked */\n  handleRemove: (id: string) => mixed,\n  /** A callback to call when the retry icon is clicked */\n  handleRetry: (id: string) => mixed,\n  /** A callback to call with newly selected files. If this is not provided no\n   * `ThumbnailPlaceholder` will be displayed.\n   */\n  handleFiles?: (files: File[]) => mixed,\n  /** Allow drag 'n' drop (or selection from the file dialog) of multiple files */\n  multiple?: boolean,\n  disabled: boolean,\n|};\n\n/**\n * Component is described here.\n *\n * @example ./examples/ImagePreviewer.md\n */\nexport default class ImagePreviewer extends React.Component<Props> {\n  static defaultProps = {\n    multiple: true,\n    disabled: false,\n  };\n\n  _handleClose = (id?: string) => {\n    if (this.props.handleRemove) {\n      if (id == null) {\n        console.warn(\"id of closed image was undefined, this shouldn't happen\");\n        return;\n      }\n      this.props.handleRemove(id);\n    }\n  };\n\n  render() {\n    const { imageUploads, handleRemove, handleRetry, handleFiles } = this.props;\n\n    return (\n      <div className=\"rfu-image-previewer\">\n        {imageUploads &&\n          imageUploads.map((image) => {\n            const url = image.url || image.previewUri;\n            return (\n              <div\n                key={image.id}\n                className={`rfu-image-previewer__image${\n                  image.state === 'finished'\n                    ? ' rfu-image-previewer__image--loaded'\n                    : ''\n                }`}\n              >\n                {image.state === 'failed' && (\n                  <div\n                    className=\"rfu-image-previewer__retry\"\n                    dangerouslySetInnerHTML={{\n                      __html:\n                        '<svg width=\"22\" height=\"20\" viewBox=\"0 0 22 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20 5.535V2a1 1 0 0 1 2 0v6a1 1 0 0 1-1 1h-6a1 1 0 0 1 0-2h3.638l-2.975-2.653a8 8 0 1 0 1.884 8.32 1 1 0 1 1 1.886.666A10 10 0 1 1 5.175 1.245c3.901-2.15 8.754-1.462 11.88 1.667L20 5.535z\" fill=\"#FFF\" fill-rule=\"nonzero\"/></svg>',\n                    }}\n                    onClick={handleRetry && (() => handleRetry(image.id))}\n                  />\n                )}\n\n                {url !== undefined && (\n                  <Thumbnail\n                    handleClose={handleRemove && this._handleClose}\n                    image={url}\n                    id={image.id}\n                  />\n                )}\n                {image.state === 'uploading' && (\n                  <LoadingIndicator\n                    backgroundColor=\"rgba(255,255,255,0.1)\"\n                    color=\"rgba(255,255,255,0.7)\"\n                  />\n                )}\n              </div>\n            );\n          })}\n        {handleFiles && !this.props.disabled && (\n          <ThumbnailPlaceholder\n            handleFiles={handleFiles}\n            multiple={this.props.multiple}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport type { FileLike } from './types';\n\n// https://stackoverflow.com/a/6860916/2570866\nexport function generateRandomId() {\n  // prettier-ignore\n  return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nexport function dataTransferItemsHaveFiles(\n  items: ?(DataTransferItem[]),\n): boolean {\n  if (!items || !items.length) {\n    return false;\n  }\n  for (const item of items) {\n    if (item.kind === 'file' || item.type === 'text/html') {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getFileLikes(items) {\n  const fileLikes = [];\n  for (const item of items) {\n    if (item.kind === 'file') {\n      const file = item.getAsFile();\n      if (file) {\n        fileLikes.push(file);\n      }\n    }\n  }\n  return fileLikes;\n}\n\nasync function getImageSource(fileLikes, src) {\n  let res;\n  try {\n    res = await fetch(src);\n  } catch (e) {\n    return;\n  }\n  const contentType =\n    res.headers.get('Content-type') || 'application/octet-stream';\n  const buf = await res.arrayBuffer();\n  const blob = new Blob([buf], { type: contentType });\n  fileLikes.push(blob);\n}\n\nconst extractImageSources = (s) => {\n  const imageTags = new DOMParser()\n    .parseFromString(s, 'text/html')\n    .getElementsByTagName('img');\n  return Array.from(imageTags, (tag) => tag.src).filter((tag) => tag);\n};\n\nexport async function dataTransferItemsToFiles(\n  items: ?(DataTransferItem[]),\n): Promise<FileLike[]> {\n  if (!items || !items.length) {\n    return [];\n  }\n\n  // If there are files inside the DataTransferItem prefer those\n  const fileLikes = getFileLikes(items);\n  if (fileLikes.length) {\n    return fileLikes;\n  }\n\n  // Otherwise extract images from html\n  const blobPromises = [];\n  for (const item of items) {\n    if (item.type === 'text/html') {\n      blobPromises.push(\n        new Promise((accept) => {\n          item.getAsString(async (s) => {\n            const imagePromises = extractImageSources(s).map((src) =>\n              getImageSource(fileLikes, src),\n            );\n\n            await Promise.all(imagePromises);\n            accept();\n          });\n        }),\n      );\n    }\n  }\n  await Promise.all(blobPromises);\n  return fileLikes;\n}\n"]},"metadata":{},"sourceType":"module"}