{"ast":null,"code":"import _objectSpread from \"/Users/akshatdhankher/Desktop/HCI/hci-ClassMates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/akshatdhankher/Desktop/HCI/hci-ClassMates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/akshatdhankher/Desktop/HCI/hci-ClassMates/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, useRouteMatch, useParams } from \"react-router-dom\"; //import \"milligram\";\n\nimport { StreamChat } from 'stream-chat';\nimport { Chat, Channel, ChannelList, MessageList, MessageInput, Window } from 'stream-chat-react';\nimport CalendarPage from \"./CalendarPage\";\nimport ChatPage from \"./ChatPage\";\nimport { MessagingChannelList } from './streamchats-code/src/components';\nimport ChatFeedPic from \"./ChatFeedPic.png\";\nimport BadCal from \"./BadCal.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar urlParams = new URLSearchParams(window.location.search);\nvar apiKey = 'e86kwpdunrzr'; // This is tied to the dhankher.a account\n\nvar user = urlParams.get('user') || process.env.REACT_APP_USER_ID;\nvar userToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoibmFtZWxlc3MtdGh1bmRlci03In0.9U6fCnGgH8gawPO7yk2DHf2-NMQhqi78YT9DbzsfnK8';\nvar targetOrigin = urlParams.get('target_origin') || process.env.REACT_APP_TARGET_ORIGIN;\nvar noChannelNameFilter = urlParams.get('no_channel_name_filter') || false;\nvar options = {\n  state: true,\n  watch: true,\n  presence: true,\n  limit: 8\n};\nvar sort = {\n  last_message_at: -1,\n  updated_at: -1,\n  cid: 1\n}; // Instantiates a client-side client\n\nvar chatClient = StreamChat.getInstance(apiKey); // Adding some dummy users to the userbase:\n\nvar johnSmith = {\n  id: \"john-smith\",\n  name: \"John Smith\",\n  image: \"https://getstream.github.io/website-react-examples/social-messenger/static/media/photo-1463453091185-61582044d556.a10d0ecf.jpeg\"\n};\nvar lucyEaton = {\n  id: \"lucy-eaton\",\n  name: \"Lucy Eaton\",\n  image: \"https://thumbs.dreamstime.com/b/friendly-adult-casual-dressed-business-woman-student-girl-standing-straight-headshot-portrait-office-183889436.jpg\"\n};\nvar janeDoe = {\n  id: \"jane-doe\",\n  name: \"Jane Doe\",\n  image: \"https://previews.123rf.com/images/avemario/avemario1609/avemario160900319/62999486-smiling-teenage-girl-working-on-her-generic-laptop-computer-happy-cheerful-female-college-student-si.jpg\"\n};\nvar edJones = {\n  id: \"ed-jones\",\n  name: \"Ed Jones\",\n  image: \"https://thumbs.dreamstime.com/z/knappe-student-53808413.jpg\"\n};\nchatClient.connectUser(johnSmith, chatClient.devToken(\"john-smith\"));\nchatClient.disconnect();\nchatClient.connectUser(lucyEaton, chatClient.devToken(\"lucy-eaton\"));\nchatClient.disconnect();\nchatClient.connectUser(janeDoe, chatClient.devToken(\"jane-doe\"));\nchatClient.disconnect();\nchatClient.connectUser(edJones, chatClient.devToken(\"ed-jones\"));\nchatClient.disconnect(); //This is the test user who is logged into ClassMates\n\nvar testUser = {\n  id: 'nameless-thunder-7',\n  name: 'Alice Jefferson',\n  image: 'http://getstream.imgix.net/images/random_svg/A.png'\n};\nchatClient.connectUser(testUser, userToken);\nvar filters = noChannelNameFilter ? {\n  type: 'messaging',\n  members: {\n    $in: [testUser, johnSmith, lucyEaton, janeDoe]\n  }\n} : {\n  type: 'messaging'\n};\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"ClassMates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/chat\",\n          children: /*#__PURE__*/_jsxDEV(ChatPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/calendar\",\n          children: /*#__PURE__*/_jsxDEV(CalendarPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\n\nfunction Home() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isCreating = _useState2[0],\n      setIsCreating = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isMobileNavVisible = _useState4[0],\n      setMobileNav = _useState4[1];\n\n  var _useState5 = useState('dark'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      theme = _useState6[0],\n      setTheme = _useState6[1]; // dark mode can be toggled here\n\n\n  useChecklist(chatClient, targetOrigin);\n  useEffect(function () {\n    var handleThemeChange = function handleThemeChange(_ref) {\n      var data = _ref.data,\n          origin = _ref.origin;\n\n      // handle events only from trusted origin\n      if (origin === targetOrigin) {\n        if (data === 'light' || data === 'dark') {\n          setTheme(data);\n        }\n      }\n    };\n\n    window.addEventListener('message', handleThemeChange);\n    return function () {\n      return window.removeEventListener('message', handleThemeChange);\n    };\n  }, []);\n  useEffect(function () {\n    var mobileChannelList = document.querySelector('#mobile-channel-list');\n\n    if (isMobileNavVisible && mobileChannelList) {\n      mobileChannelList.classList.add('show');\n      document.body.style.overflow = 'hidden';\n    } else if (!isMobileNavVisible && mobileChannelList) {\n      mobileChannelList.classList.remove('show');\n      document.body.style.overflow = 'auto';\n    }\n  }, [isMobileNavVisible]);\n\n  var toggleMobile = function toggleMobile() {\n    return setMobileNav(!isMobileNavVisible);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"grid-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"grid-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Happening Now:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Study Meeting with Alice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: function onClick() {\n            alert(\"Loading Zoom Meeting... (back-end not supported, go back)\");\n          },\n          children: \"Join Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"grid-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/chat\",\n            children: \"Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChannelList, {\n          filters: filters,\n          sort: sort,\n          options: options,\n          List: function List(props) {\n            return /*#__PURE__*/_jsxDEV(MessagingChannelList, _objectSpread(_objectSpread({}, props), {}, {\n              onCreateChannel: function onCreateChannel() {\n                return setIsCreating(!isCreating);\n              }\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 30\n            }, _this);\n          },\n          Preview: function Preview(props) {\n            return /*#__PURE__*/_jsxDEV(MessagingChannelPreview, _objectSpread(_objectSpread({}, props), {}, {\n              setIsCreating: setIsCreating\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, _this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/chat\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: ChatFeedPic,\n            alt: \"Img not found\",\n            width: \"100%\",\n            onClick: function onClick() {\n              alert(\"This back-end is not fully supported yet, so this just navigates to the Chat page and not a specific conversation.\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 28\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/calendar\",\n            children: \"Calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/calendar\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: BadCal,\n            alt: \"Img not found\",\n            width: \"100%\",\n            onClick: function onClick() {\n              alert(\"This back-end is not yet fully supported, so this just navigates to the Calendar page and not a specific event.\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Home, \"8N30PtaU3OJg8ulk/5dL2BpClKM=\", true);\n\n_c2 = Home;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Home\");","map":{"version":3,"sources":["/Users/akshatdhankher/Desktop/HCI/hci-ClassMates/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Link","useRouteMatch","useParams","StreamChat","Chat","Channel","ChannelList","MessageList","MessageInput","Window","CalendarPage","ChatPage","MessagingChannelList","ChatFeedPic","BadCal","urlParams","URLSearchParams","window","location","search","apiKey","user","get","process","env","REACT_APP_USER_ID","userToken","targetOrigin","REACT_APP_TARGET_ORIGIN","noChannelNameFilter","options","state","watch","presence","limit","sort","last_message_at","updated_at","cid","chatClient","getInstance","johnSmith","id","name","image","lucyEaton","janeDoe","edJones","connectUser","devToken","disconnect","testUser","filters","type","members","$in","App","Home","useState","isCreating","setIsCreating","isMobileNavVisible","setMobileNav","theme","setTheme","useChecklist","useEffect","handleThemeChange","data","origin","addEventListener","removeEventListener","mobileChannelList","document","querySelector","classList","add","body","style","overflow","remove","toggleMobile","alert","props"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useRouteMatch,\n  useParams\n} from \"react-router-dom\";\n//import \"milligram\";\nimport { StreamChat } from 'stream-chat';\nimport { Chat, Channel, ChannelList, MessageList, MessageInput, Window } from 'stream-chat-react';\n\n\nimport CalendarPage from \"./CalendarPage\";\nimport ChatPage from \"./ChatPage\";\n\nimport { MessagingChannelList } from './streamchats-code/src/components';\nimport ChatFeedPic from \"./ChatFeedPic.png\";\nimport BadCal from \"./BadCal.png\";\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst apiKey = 'e86kwpdunrzr'; // This is tied to the dhankher.a account\nconst user = urlParams.get('user') || process.env.REACT_APP_USER_ID;\n\nconst userToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoibmFtZWxlc3MtdGh1bmRlci03In0.9U6fCnGgH8gawPO7yk2DHf2-NMQhqi78YT9DbzsfnK8';\n\nconst targetOrigin = urlParams.get('target_origin') || process.env.REACT_APP_TARGET_ORIGIN;\nconst noChannelNameFilter = urlParams.get('no_channel_name_filter') || false;\n\nconst options = { state: true, watch: true, presence: true, limit: 8 };\nconst sort = {\n  last_message_at: -1,\n  updated_at: -1,\n  cid: 1,\n};\n\n\n// Instantiates a client-side client\nconst chatClient = StreamChat.getInstance(apiKey);\n\n// Adding some dummy users to the userbase:\nconst johnSmith = {id: \"john-smith\", name: \"John Smith\", image: \"https://getstream.github.io/website-react-examples/social-messenger/static/media/photo-1463453091185-61582044d556.a10d0ecf.jpeg\"};\nconst lucyEaton = {id: \"lucy-eaton\", name: \"Lucy Eaton\", image: \"https://thumbs.dreamstime.com/b/friendly-adult-casual-dressed-business-woman-student-girl-standing-straight-headshot-portrait-office-183889436.jpg\"};\nconst janeDoe = {id: \"jane-doe\", name: \"Jane Doe\", image: \"https://previews.123rf.com/images/avemario/avemario1609/avemario160900319/62999486-smiling-teenage-girl-working-on-her-generic-laptop-computer-happy-cheerful-female-college-student-si.jpg\"};\nconst edJones = {id: \"ed-jones\", name: \"Ed Jones\", image: \"https://thumbs.dreamstime.com/z/knappe-student-53808413.jpg\"};\nchatClient.connectUser(johnSmith, chatClient.devToken(\"john-smith\"));\nchatClient.disconnect();\nchatClient.connectUser(lucyEaton, chatClient.devToken(\"lucy-eaton\"));\nchatClient.disconnect();\nchatClient.connectUser(janeDoe, chatClient.devToken(\"jane-doe\"));\nchatClient.disconnect();\nchatClient.connectUser(edJones, chatClient.devToken(\"ed-jones\"));\nchatClient.disconnect();\n\n//This is the test user who is logged into ClassMates\nconst testUser = {\n  id: 'nameless-thunder-7',\n  name: 'Alice Jefferson',\n  image: 'http://getstream.imgix.net/images/random_svg/A.png'\n};\n\nchatClient.connectUser(testUser, userToken);\n\nconst filters = noChannelNameFilter ? { type: 'messaging', members: { $in: [testUser, johnSmith, lucyEaton, janeDoe] } } : { type: 'messaging'};\n\n\n\nexport default function App() {\n\n  return (\n    <Router>\n      <div>\n      <div className=\"App\">\n        <h1>ClassMates</h1>\n        <h6><Link to=\"/\">Home</Link></h6>\n        </div>\n        <Switch>\n          <Route path=\"/chat\">\n            <ChatPage/>\n          </Route>\n          <Route path=\"/calendar\">\n            <CalendarPage/>\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\n\nfunction Home() {\n  const [isCreating, setIsCreating] = useState(false);\n  const [isMobileNavVisible, setMobileNav] = useState(false);\n  const [theme, setTheme] = useState('dark'); // dark mode can be toggled here\n\n  useChecklist(chatClient, targetOrigin);\n\n  useEffect(() => {\n    const handleThemeChange = ({ data, origin }) => {\n      // handle events only from trusted origin\n      if (origin === targetOrigin) {\n        if (data === 'light' || data === 'dark') {\n          setTheme(data);\n        }\n      }\n    };\n\n    window.addEventListener('message', handleThemeChange);\n    return () => window.removeEventListener('message', handleThemeChange);\n  }, []);\n\n  useEffect(() => {\n    const mobileChannelList = document.querySelector('#mobile-channel-list');\n    if (isMobileNavVisible && mobileChannelList) {\n      mobileChannelList.classList.add('show');\n      document.body.style.overflow = 'hidden';\n    } else if (!isMobileNavVisible && mobileChannelList) {\n      mobileChannelList.classList.remove('show');\n      document.body.style.overflow = 'auto';\n    }\n  }, [isMobileNavVisible]);\n\n  const toggleMobile = () => setMobileNav(!isMobileNavVisible);\n\n\n  return (\n  <div className=\"App\">\n    <div class=\"grid-container\">\n        <div class=\"grid-item\">\n          <h3>Happening Now:</h3>\n          <p> Study Meeting with Alice</p>\n          <button onClick={() =>\n            {alert(\"Loading Zoom Meeting... (back-end not supported, go back)\")}}>\n            Join Now</button>\n        </div>\n        <div class=\"grid-item\">\n          <h3><Link to=\"/chat\">Chat</Link></h3>\n          <ChannelList\n            filters={filters}\n            sort={sort}\n            options={options}\n            List={(props) => <MessagingChannelList {...props} onCreateChannel={() => setIsCreating(!isCreating)} />}\n            Preview={(props) => <MessagingChannelPreview {...props} {...{ setIsCreating }} />}\n          />\n          <Link to=\"/chat\"><img src={ChatFeedPic} alt=\"Img not found\"\n          width=\"100%\" onClick={() =>\n            {alert(\"This back-end is not fully supported yet, so this just navigates to the Chat page and not a specific conversation.\")}}></img></Link>\n        </div>\n        <div className=\"grid-item\">\n          <h3><Link to=\"/calendar\">Calendar</Link></h3>\n          <Link to=\"/calendar\"><img src={BadCal} alt=\"Img not found\"\n          width=\"100%\" onClick={() =>\n            {alert(\"This back-end is not yet fully supported, so this just navigates to the Calendar page and not a specific event.\")}}></img></Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}