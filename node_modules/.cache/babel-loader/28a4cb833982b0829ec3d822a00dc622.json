{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _constant = require('../../utils/constant.js');\n\nvar _drag = require('../../utils/drag');\n\nvar _drag2 = _interopRequireDefault(_drag);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar propTypes = {\n  time: _propTypes2.default.number,\n  step: _propTypes2.default.number,\n  draggable: _propTypes2.default.bool,\n  pointerRotate: _propTypes2.default.number,\n  minLength: _propTypes2.default.number,\n  maxLength: _propTypes2.default.number,\n  minuteStep: _propTypes2.default.number,\n  limitDrag: _propTypes2.default.bool,\n  rotateState: _propTypes2.default.shape({\n    top: _propTypes2.default.number,\n    height: _propTypes2.default.number,\n    pointerRotate: _propTypes2.default.number\n  }),\n  handleTimePointerClick: _propTypes2.default.func\n};\nvar defaultProps = {\n  time: 0,\n  step: 0,\n  pointerRotate: 0,\n  rotateState: {\n    top: 0,\n    height: 0,\n    pointerRotate: 0\n  },\n  minLength: _constant.MIN_ABSOLUTE_POSITION,\n  maxLength: _constant.MAX_ABSOLUTE_POSITION,\n  minuteStep: 5,\n  limitDrag: false,\n  handleTimePointerClick: Function.prototype\n};\n\nvar PickerDragHandler = function (_React$PureComponent) {\n  _inherits(PickerDragHandler, _React$PureComponent);\n\n  function PickerDragHandler(props) {\n    _classCallCheck(this, PickerDragHandler);\n\n    var _this = _possibleConstructorReturn(this, (PickerDragHandler.__proto__ || Object.getPrototypeOf(PickerDragHandler)).call(this, props));\n\n    _this.startX = 0;\n    _this.startY = 0;\n    _this.originX = null;\n    _this.originY = null;\n    _this.dragCenterX = null;\n    _this.dragCenterY = null;\n    _this.offsetDragCenterX = 0;\n    _this.offsetDragCenterY = 0;\n    _this.state = _this.initialRotationAndLength();\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleMouseMove = _this.handleMouseMove.bind(_this);\n    _this.handleMouseUp = _this.handleMouseUp.bind(_this);\n    _this.resetOrigin = _this.resetOrigin.bind(_this);\n    return _this;\n  }\n\n  _createClass(PickerDragHandler, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.resetOrigin();\n\n      if (window.addEventListener) {\n        window.addEventListener('resize', this.resetOrigin, true);\n      } else {\n        window.addEventListener('onresize', this.resetOrigin);\n      }\n\n      if (document.addEventListener) {\n        document.addEventListener('scroll', this.resetOrigin, true);\n        document.addEventListener('mousemove', this.handleMouseMove, true);\n        document.addEventListener('mouseup', this.handleMouseUp, true);\n        document.addEventListener('touchmove', this.handleMouseMove, true);\n        document.addEventListener('touchend', this.handleMouseUp, true);\n      } else {\n        document.addEventListener('onscroll', this.resetOrigin);\n        document.attachEvent('onmousemove', this.handleMouseMove);\n        document.attachEvent('onmouseup', this.handleMouseUp);\n        document.attachEvent('ontouchmove', this.handleMouseMove);\n        document.attachEvent('ontouchend', this.handleMouseUp);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (window.addEventListener) {\n        window.removeEventListener('resize', this.resetOrigin, true);\n      } else {\n        window.detachEvent('onresize', this.resetOrigin);\n      }\n\n      if (document.removeEventListener) {\n        document.removeEventListener('scroll', this.resetOrigin, true);\n        document.removeEventListener('mousemove', this.handleMouseMove, true);\n        document.removeEventListener('mouseup', this.handleMouseUp, true);\n        document.removeEventListener('touchmove', this.handleMouseMove, true);\n        document.removeEventListener('touchend', this.handleMouseUp, true);\n      } else {\n        document.detachEvent('onscroll', this.resetOrigin);\n        document.detachEvent('onmousemove', this.handleMouseMove);\n        document.detachEvent('onmouseup', this.handleMouseUp);\n        document.detachEvent('ontouchmove', this.handleMouseMove);\n        document.detachEvent('ontouchend', this.handleMouseUp);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _props = this.props,\n          step = _props.step,\n          time = _props.time,\n          rotateState = _props.rotateState;\n      var draging = this.state.draging;\n      var prevStep = prevProps.step;\n      var prevTime = prevProps.time;\n      var PrevRotateState = prevProps.rotateState;\n\n      if ((step !== prevStep || time !== prevTime || rotateState.pointerRotate !== PrevRotateState.pointerRotate) && !draging) {\n        this.resetState();\n      }\n    }\n  }, {\n    key: 'initialRotationAndLength',\n    value: function initialRotationAndLength() {\n      var rotateState = this.props.rotateState;\n      var top = rotateState.top,\n          height = rotateState.height,\n          pointerRotate = rotateState.pointerRotate;\n      this.initialHeight = height;\n      return {\n        top: top,\n        height: height,\n        pointerRotate: pointerRotate,\n        draging: false\n      };\n    }\n  }, {\n    key: 'resetState',\n    value: function resetState() {\n      this.setState(this.initialRotationAndLength());\n    }\n  }, {\n    key: 'resetOrigin',\n    value: function resetOrigin() {\n      var centerPoint = this.pickerCenter;\n      var centerPointPos = centerPoint.getBoundingClientRect();\n      this.originX = centerPointPos.left + centerPoint.clientWidth / 2 + Math.max(document.documentElement.scrollLeft, document.body.scrollLeft) + _constant.POINTER_RADIUS;\n      this.originY = centerPointPos.top + centerPoint.clientHeight / 2 + Math.max(document.documentElement.scrollTop, document.body.scrollTop) + _constant.POINTER_RADIUS;\n      this.resetDragCenter();\n    }\n  }, {\n    key: 'resetDragCenter',\n    value: function resetDragCenter() {\n      this.offsetDragCenterX = 0;\n      this.offsetDragCenterY = 0;\n      var dragCenterPoint = this.dragCenter;\n      var dragCenterPointPos = dragCenterPoint.getBoundingClientRect();\n      this.dragCenterX = dragCenterPointPos.left + dragCenterPoint.clientWidth / 2 + Math.max(document.documentElement.scrollLeft, document.body.scrollLeft);\n      this.dragCenterY = dragCenterPointPos.top + dragCenterPoint.clientHeight / 2 + Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n    }\n  }, {\n    key: 'getRadian',\n    value: function getRadian(x, y) {\n      var sRad = Math.atan2(y - this.originY, x - this.originX);\n      sRad -= Math.atan2(this.startY - this.originY, this.startX - this.originX);\n\n      if (sRad > Math.PI) {\n        sRad -= Math.PI * 2;\n      } else if (sRad < -Math.PI) {\n        sRad += Math.PI * 2;\n      }\n\n      sRad += _drag2.default.degree2Radian(this.props.rotateState.pointerRotate);\n      return sRad;\n    }\n  }, {\n    key: 'getAbsolutePosition',\n    value: function getAbsolutePosition(x, y) {\n      return Math.sqrt(Math.pow(x - this.originX, 2) + Math.pow(y - this.originY, 2));\n    }\n  }, {\n    key: 'getPointerRotate',\n    value: function getPointerRotate() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var dragX = options.dragX,\n          dragY = options.dragY;\n      var _props2 = this.props,\n          step = _props2.step,\n          limitDrag = _props2.limitDrag,\n          minuteStep = _props2.minuteStep;\n      var sRad = this.getRadian(dragX, dragY);\n      var pointerRotate = sRad * (360 / (2 * Math.PI));\n\n      if (limitDrag) {\n        var degree = sRad * (360 / (2 * Math.PI));\n        var isHour = step === 0;\n        var sectionCount = isHour ? 12 : 60 / minuteStep;\n        var roundSeg = Math.round(degree / (360 / sectionCount));\n        pointerRotate = roundSeg * (360 / sectionCount);\n      }\n\n      return pointerRotate;\n    }\n  }, {\n    key: 'handleTimePointerChange',\n    value: function handleTimePointerChange() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var dragX = options.dragX,\n          dragY = options.dragY,\n          _options$autoMode = options.autoMode,\n          autoMode = _options$autoMode === undefined ? null : _options$autoMode,\n          _options$pointerRotat = options.pointerRotate,\n          pointerRotate = _options$pointerRotat === undefined ? null : _options$pointerRotat;\n      var _props3 = this.props,\n          step = _props3.step,\n          timeMode = _props3.timeMode,\n          minLength = _props3.minLength,\n          maxLength = _props3.maxLength,\n          minuteStep = _props3.minuteStep,\n          handleTimePointerClick = _props3.handleTimePointerClick;\n      var sRad = this.getRadian(dragX, dragY);\n      var degree = sRad * (360 / (2 * Math.PI));\n      var isHour = step === 0;\n      var sectionCount = isHour ? 12 : 60 / minuteStep;\n      var roundSeg = Math.round(degree / (360 / sectionCount));\n      var absolutePosition = this.getAbsolutePosition(dragX, dragY);\n      absolutePosition = _drag2.default.validatePosition(absolutePosition, minLength, maxLength);\n\n      if (minLength < absolutePosition && absolutePosition < maxLength) {\n        if (absolutePosition - minLength > (maxLength - minLength) / 2) {\n          absolutePosition = maxLength;\n        } else {\n          absolutePosition = minLength;\n        }\n      }\n\n      while (roundSeg > sectionCount) {\n        roundSeg -= sectionCount;\n      }\n\n      var time = absolutePosition === minLength ? roundSeg : roundSeg + sectionCount;\n\n      if (isHour) {\n        if (absolutePosition === minLength && time < 0) {\n          time += 12;\n        } else if (absolutePosition !== minLength && time < 12) {\n          time = 24 + (time - 12);\n        }\n\n        time = time === 24 ? 12 : time;\n        if (time === 12 && Number(timeMode) === 12) time = 0;\n      } else {\n        time = time * minuteStep === 60 ? 0 : time * minuteStep;\n        time = time < 0 ? 60 + time : time;\n      }\n\n      handleTimePointerClick && handleTimePointerClick({\n        time: time,\n        autoMode: autoMode,\n        pointerRotate: pointerRotate\n      });\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(e) {\n      if (!this.state.draging) {\n        var event = e || window.event;\n        event.preventDefault();\n        event.stopPropagation();\n\n        var pos = _drag2.default.mousePosition(event);\n\n        this.startX = pos.x;\n        this.startY = pos.y;\n        this.resetDragCenter();\n        this.offsetDragCenterX = this.dragCenterX - this.startX;\n        this.offsetDragCenterY = this.dragCenterY - this.startY;\n        this.setState({\n          draging: true\n        });\n      }\n    }\n  }, {\n    key: 'handleMouseMove',\n    value: function handleMouseMove(e) {\n      if (this.state.draging) {\n        var _props4 = this.props,\n            minLength = _props4.minLength,\n            maxLength = _props4.maxLength;\n\n        var pos = _drag2.default.mousePosition(e);\n\n        var dragX = pos.x + this.offsetDragCenterX;\n        var dragY = pos.y + this.offsetDragCenterY;\n\n        if (this.originX !== dragX && this.originY !== dragY) {\n          var pointerRotate = this.getPointerRotate({\n            dragX: dragX,\n            dragY: dragY\n          });\n          var absolutePosition = this.getAbsolutePosition(dragX, dragY);\n\n          var height = _drag2.default.validatePosition(absolutePosition, minLength - _constant.POINTER_RADIUS, maxLength - _constant.POINTER_RADIUS);\n\n          var top = _constant.PICKER_RADIUS - height;\n          this.setState({\n            top: top,\n            height: height,\n            pointerRotate: pointerRotate\n          });\n          this.handleTimePointerChange({\n            dragX: dragX,\n            dragY: dragY,\n            autoMode: false\n          });\n        }\n      }\n    }\n  }, {\n    key: 'handleMouseUp',\n    value: function handleMouseUp(e) {\n      if (this.state.draging) {\n        this.setState({\n          draging: false\n        });\n\n        var pos = _drag2.default.mousePosition(e);\n\n        var endX = pos.x + this.offsetDragCenterX;\n        var endY = pos.y + this.offsetDragCenterY;\n        var pointerRotate = this.getPointerRotate({\n          dragX: endX,\n          dragY: endY\n        });\n        var remainder = pointerRotate % 30;\n        var base = Math.floor(pointerRotate / 30);\n        pointerRotate = (base + (remainder >= 15 ? 1 : 0)) * 30;\n        this.setState({\n          pointerRotate: pointerRotate\n        });\n        this.handleTimePointerChange({\n          dragX: endX,\n          dragY: endY,\n          pointerRotate: pointerRotate\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          time = _props5.time,\n          draggable = _props5.draggable;\n      var _state = this.state,\n          draging = _state.draging,\n          height = _state.height,\n          top = _state.top,\n          pointerRotate = _state.pointerRotate;\n      var pickerPointerClass = draging ? 'picker_pointer' : 'picker_pointer animation';\n      return _react2.default.createElement('div', {\n        className: 'picker_handler'\n      }, _react2.default.createElement('div', {\n        className: pickerPointerClass,\n        style: _drag2.default.initialPointerStyle(height, top, pointerRotate)\n      }, _react2.default.createElement('div', {\n        ref: function ref(r) {\n          return _this2.dragCenter = r;\n        },\n        className: 'pointer_drag ' + (draggable ? 'draggable' : ''),\n        style: _drag2.default.rotateStyle(-pointerRotate),\n        onMouseDown: draggable ? this.handleMouseDown : Function.prototype,\n        onTouchStart: draggable ? this.handleMouseDown : Function.prototype\n      }, time)), _react2.default.createElement('div', {\n        className: 'picker_center',\n        ref: function ref(p) {\n          return _this2.pickerCenter = p;\n        }\n      }));\n    }\n  }]);\n\n  return PickerDragHandler;\n}(_react2.default.PureComponent);\n\nPickerDragHandler.propTypes = propTypes;\nPickerDragHandler.defaultProps = defaultProps;\nexports.default = PickerDragHandler;","map":{"version":3,"sources":["/Users/annaisthebest/Desktop/hci-ClassMates/node_modules/react-times/lib/components/Picker/PickerDragHandler.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_constant","_drag","_drag2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","propTypes","time","number","step","draggable","bool","pointerRotate","minLength","maxLength","minuteStep","limitDrag","rotateState","shape","top","height","handleTimePointerClick","func","defaultProps","MIN_ABSOLUTE_POSITION","MAX_ABSOLUTE_POSITION","Function","PickerDragHandler","_React$PureComponent","_this","getPrototypeOf","startX","startY","originX","originY","dragCenterX","dragCenterY","offsetDragCenterX","offsetDragCenterY","state","initialRotationAndLength","handleMouseDown","bind","handleMouseMove","handleMouseUp","resetOrigin","componentDidMount","window","addEventListener","document","attachEvent","componentWillUnmount","removeEventListener","detachEvent","componentDidUpdate","prevProps","_props","draging","prevStep","prevTime","PrevRotateState","resetState","initialHeight","setState","centerPoint","pickerCenter","centerPointPos","getBoundingClientRect","left","clientWidth","Math","max","documentElement","scrollLeft","body","POINTER_RADIUS","clientHeight","scrollTop","resetDragCenter","dragCenterPoint","dragCenter","dragCenterPointPos","getRadian","x","y","sRad","atan2","PI","degree2Radian","getAbsolutePosition","sqrt","pow","getPointerRotate","options","arguments","undefined","dragX","dragY","_props2","degree","isHour","sectionCount","roundSeg","round","handleTimePointerChange","_options$autoMode","autoMode","_options$pointerRotat","_props3","timeMode","absolutePosition","validatePosition","Number","e","event","preventDefault","stopPropagation","pos","mousePosition","_props4","PICKER_RADIUS","endX","endY","remainder","base","floor","render","_this2","_props5","_state","pickerPointerClass","createElement","className","style","initialPointerStyle","ref","r","rotateStyle","onMouseDown","onTouchStart","p","PureComponent"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _constant = require('../../utils/constant.js');\n\nvar _drag = require('../../utils/drag');\n\nvar _drag2 = _interopRequireDefault(_drag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  time: _propTypes2.default.number,\n  step: _propTypes2.default.number,\n  draggable: _propTypes2.default.bool,\n  pointerRotate: _propTypes2.default.number,\n  minLength: _propTypes2.default.number,\n  maxLength: _propTypes2.default.number,\n  minuteStep: _propTypes2.default.number,\n  limitDrag: _propTypes2.default.bool,\n  rotateState: _propTypes2.default.shape({\n    top: _propTypes2.default.number,\n    height: _propTypes2.default.number,\n    pointerRotate: _propTypes2.default.number\n  }),\n  handleTimePointerClick: _propTypes2.default.func\n};\n\nvar defaultProps = {\n  time: 0,\n  step: 0,\n  pointerRotate: 0,\n  rotateState: {\n    top: 0,\n    height: 0,\n    pointerRotate: 0\n  },\n  minLength: _constant.MIN_ABSOLUTE_POSITION,\n  maxLength: _constant.MAX_ABSOLUTE_POSITION,\n  minuteStep: 5,\n  limitDrag: false,\n  handleTimePointerClick: Function.prototype\n};\n\nvar PickerDragHandler = function (_React$PureComponent) {\n  _inherits(PickerDragHandler, _React$PureComponent);\n\n  function PickerDragHandler(props) {\n    _classCallCheck(this, PickerDragHandler);\n\n    var _this = _possibleConstructorReturn(this, (PickerDragHandler.__proto__ || Object.getPrototypeOf(PickerDragHandler)).call(this, props));\n\n    _this.startX = 0;\n    _this.startY = 0;\n    _this.originX = null;\n    _this.originY = null;\n    _this.dragCenterX = null;\n    _this.dragCenterY = null;\n    _this.offsetDragCenterX = 0;\n    _this.offsetDragCenterY = 0;\n    _this.state = _this.initialRotationAndLength();\n\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleMouseMove = _this.handleMouseMove.bind(_this);\n    _this.handleMouseUp = _this.handleMouseUp.bind(_this);\n    _this.resetOrigin = _this.resetOrigin.bind(_this);\n    return _this;\n  }\n\n  _createClass(PickerDragHandler, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.resetOrigin();\n      if (window.addEventListener) {\n        window.addEventListener('resize', this.resetOrigin, true);\n      } else {\n        window.addEventListener('onresize', this.resetOrigin);\n      }\n      if (document.addEventListener) {\n        document.addEventListener('scroll', this.resetOrigin, true);\n        document.addEventListener('mousemove', this.handleMouseMove, true);\n        document.addEventListener('mouseup', this.handleMouseUp, true);\n        document.addEventListener('touchmove', this.handleMouseMove, true);\n        document.addEventListener('touchend', this.handleMouseUp, true);\n      } else {\n        document.addEventListener('onscroll', this.resetOrigin);\n        document.attachEvent('onmousemove', this.handleMouseMove);\n        document.attachEvent('onmouseup', this.handleMouseUp);\n        document.attachEvent('ontouchmove', this.handleMouseMove);\n        document.attachEvent('ontouchend', this.handleMouseUp);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (window.addEventListener) {\n        window.removeEventListener('resize', this.resetOrigin, true);\n      } else {\n        window.detachEvent('onresize', this.resetOrigin);\n      }\n      if (document.removeEventListener) {\n        document.removeEventListener('scroll', this.resetOrigin, true);\n        document.removeEventListener('mousemove', this.handleMouseMove, true);\n        document.removeEventListener('mouseup', this.handleMouseUp, true);\n        document.removeEventListener('touchmove', this.handleMouseMove, true);\n        document.removeEventListener('touchend', this.handleMouseUp, true);\n      } else {\n        document.detachEvent('onscroll', this.resetOrigin);\n        document.detachEvent('onmousemove', this.handleMouseMove);\n        document.detachEvent('onmouseup', this.handleMouseUp);\n        document.detachEvent('ontouchmove', this.handleMouseMove);\n        document.detachEvent('ontouchend', this.handleMouseUp);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _props = this.props,\n          step = _props.step,\n          time = _props.time,\n          rotateState = _props.rotateState;\n      var draging = this.state.draging;\n\n      var prevStep = prevProps.step;\n      var prevTime = prevProps.time;\n      var PrevRotateState = prevProps.rotateState;\n      if ((step !== prevStep || time !== prevTime || rotateState.pointerRotate !== PrevRotateState.pointerRotate) && !draging) {\n        this.resetState();\n      }\n    }\n  }, {\n    key: 'initialRotationAndLength',\n    value: function initialRotationAndLength() {\n      var rotateState = this.props.rotateState;\n      var top = rotateState.top,\n          height = rotateState.height,\n          pointerRotate = rotateState.pointerRotate;\n\n      this.initialHeight = height;\n      return {\n        top: top,\n        height: height,\n        pointerRotate: pointerRotate,\n        draging: false\n      };\n    }\n  }, {\n    key: 'resetState',\n    value: function resetState() {\n      this.setState(this.initialRotationAndLength());\n    }\n  }, {\n    key: 'resetOrigin',\n    value: function resetOrigin() {\n      var centerPoint = this.pickerCenter;\n      var centerPointPos = centerPoint.getBoundingClientRect();\n      this.originX = centerPointPos.left + centerPoint.clientWidth / 2 + Math.max(document.documentElement.scrollLeft, document.body.scrollLeft) + _constant.POINTER_RADIUS;\n      this.originY = centerPointPos.top + centerPoint.clientHeight / 2 + Math.max(document.documentElement.scrollTop, document.body.scrollTop) + _constant.POINTER_RADIUS;\n\n      this.resetDragCenter();\n    }\n  }, {\n    key: 'resetDragCenter',\n    value: function resetDragCenter() {\n      this.offsetDragCenterX = 0;\n      this.offsetDragCenterY = 0;\n\n      var dragCenterPoint = this.dragCenter;\n      var dragCenterPointPos = dragCenterPoint.getBoundingClientRect();\n      this.dragCenterX = dragCenterPointPos.left + dragCenterPoint.clientWidth / 2 + Math.max(document.documentElement.scrollLeft, document.body.scrollLeft);\n      this.dragCenterY = dragCenterPointPos.top + dragCenterPoint.clientHeight / 2 + Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n    }\n  }, {\n    key: 'getRadian',\n    value: function getRadian(x, y) {\n      var sRad = Math.atan2(y - this.originY, x - this.originX);\n      sRad -= Math.atan2(this.startY - this.originY, this.startX - this.originX);\n      if (sRad > Math.PI) {\n        sRad -= Math.PI * 2;\n      } else if (sRad < -Math.PI) {\n        sRad += Math.PI * 2;\n      }\n      sRad += _drag2.default.degree2Radian(this.props.rotateState.pointerRotate);\n      return sRad;\n    }\n  }, {\n    key: 'getAbsolutePosition',\n    value: function getAbsolutePosition(x, y) {\n      return Math.sqrt(Math.pow(x - this.originX, 2) + Math.pow(y - this.originY, 2));\n    }\n  }, {\n    key: 'getPointerRotate',\n    value: function getPointerRotate() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var dragX = options.dragX,\n          dragY = options.dragY;\n      var _props2 = this.props,\n          step = _props2.step,\n          limitDrag = _props2.limitDrag,\n          minuteStep = _props2.minuteStep;\n\n      var sRad = this.getRadian(dragX, dragY);\n      var pointerRotate = sRad * (360 / (2 * Math.PI));\n\n      if (limitDrag) {\n        var degree = sRad * (360 / (2 * Math.PI));\n        var isHour = step === 0;\n        var sectionCount = isHour ? 12 : 60 / minuteStep;\n        var roundSeg = Math.round(degree / (360 / sectionCount));\n        pointerRotate = roundSeg * (360 / sectionCount);\n      }\n      return pointerRotate;\n    }\n  }, {\n    key: 'handleTimePointerChange',\n    value: function handleTimePointerChange() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var dragX = options.dragX,\n          dragY = options.dragY,\n          _options$autoMode = options.autoMode,\n          autoMode = _options$autoMode === undefined ? null : _options$autoMode,\n          _options$pointerRotat = options.pointerRotate,\n          pointerRotate = _options$pointerRotat === undefined ? null : _options$pointerRotat;\n      var _props3 = this.props,\n          step = _props3.step,\n          timeMode = _props3.timeMode,\n          minLength = _props3.minLength,\n          maxLength = _props3.maxLength,\n          minuteStep = _props3.minuteStep,\n          handleTimePointerClick = _props3.handleTimePointerClick;\n\n\n      var sRad = this.getRadian(dragX, dragY);\n\n      var degree = sRad * (360 / (2 * Math.PI));\n      var isHour = step === 0;\n      var sectionCount = isHour ? 12 : 60 / minuteStep;\n      var roundSeg = Math.round(degree / (360 / sectionCount));\n\n      var absolutePosition = this.getAbsolutePosition(dragX, dragY);\n      absolutePosition = _drag2.default.validatePosition(absolutePosition, minLength, maxLength);\n      if (minLength < absolutePosition && absolutePosition < maxLength) {\n        if (absolutePosition - minLength > (maxLength - minLength) / 2) {\n          absolutePosition = maxLength;\n        } else {\n          absolutePosition = minLength;\n        }\n      }\n      while (roundSeg > sectionCount) {\n        roundSeg -= sectionCount;\n      }\n      var time = absolutePosition === minLength ? roundSeg : roundSeg + sectionCount;\n\n      if (isHour) {\n        if (absolutePosition === minLength && time < 0) {\n          time += 12;\n        } else if (absolutePosition !== minLength && time < 12) {\n          time = 24 + (time - 12);\n        }\n        time = time === 24 ? 12 : time;\n        if (time === 12 && Number(timeMode) === 12) time = 0;\n      } else {\n        time = time * minuteStep === 60 ? 0 : time * minuteStep;\n        time = time < 0 ? 60 + time : time;\n      }\n\n      handleTimePointerClick && handleTimePointerClick({\n        time: time,\n        autoMode: autoMode,\n        pointerRotate: pointerRotate\n      });\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(e) {\n      if (!this.state.draging) {\n        var event = e || window.event;\n        event.preventDefault();\n        event.stopPropagation();\n        var pos = _drag2.default.mousePosition(event);\n        this.startX = pos.x;\n        this.startY = pos.y;\n\n        this.resetDragCenter();\n        this.offsetDragCenterX = this.dragCenterX - this.startX;\n        this.offsetDragCenterY = this.dragCenterY - this.startY;\n\n        this.setState({\n          draging: true\n        });\n      }\n    }\n  }, {\n    key: 'handleMouseMove',\n    value: function handleMouseMove(e) {\n      if (this.state.draging) {\n        var _props4 = this.props,\n            minLength = _props4.minLength,\n            maxLength = _props4.maxLength;\n\n        var pos = _drag2.default.mousePosition(e);\n        var dragX = pos.x + this.offsetDragCenterX;\n        var dragY = pos.y + this.offsetDragCenterY;\n        if (this.originX !== dragX && this.originY !== dragY) {\n          var pointerRotate = this.getPointerRotate({ dragX: dragX, dragY: dragY });\n\n          var absolutePosition = this.getAbsolutePosition(dragX, dragY);\n          var height = _drag2.default.validatePosition(absolutePosition, minLength - _constant.POINTER_RADIUS, maxLength - _constant.POINTER_RADIUS);\n          var top = _constant.PICKER_RADIUS - height;\n          this.setState({\n            top: top,\n            height: height,\n            pointerRotate: pointerRotate\n          });\n\n          this.handleTimePointerChange({\n            dragX: dragX,\n            dragY: dragY,\n            autoMode: false\n          });\n        }\n      }\n    }\n  }, {\n    key: 'handleMouseUp',\n    value: function handleMouseUp(e) {\n      if (this.state.draging) {\n        this.setState({\n          draging: false\n        });\n\n        var pos = _drag2.default.mousePosition(e);\n        var endX = pos.x + this.offsetDragCenterX;\n        var endY = pos.y + this.offsetDragCenterY;\n\n        var pointerRotate = this.getPointerRotate({\n          dragX: endX,\n          dragY: endY\n        });\n        var remainder = pointerRotate % 30;\n        var base = Math.floor(pointerRotate / 30);\n        pointerRotate = (base + (remainder >= 15 ? 1 : 0)) * 30;\n\n        this.setState({ pointerRotate: pointerRotate });\n        this.handleTimePointerChange({\n          dragX: endX,\n          dragY: endY,\n          pointerRotate: pointerRotate\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          time = _props5.time,\n          draggable = _props5.draggable;\n      var _state = this.state,\n          draging = _state.draging,\n          height = _state.height,\n          top = _state.top,\n          pointerRotate = _state.pointerRotate;\n\n      var pickerPointerClass = draging ? 'picker_pointer' : 'picker_pointer animation';\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'picker_handler' },\n        _react2.default.createElement(\n          'div',\n          {\n            className: pickerPointerClass,\n            style: _drag2.default.initialPointerStyle(height, top, pointerRotate)\n          },\n          _react2.default.createElement(\n            'div',\n            {\n              ref: function ref(r) {\n                return _this2.dragCenter = r;\n              },\n              className: 'pointer_drag ' + (draggable ? 'draggable' : ''),\n              style: _drag2.default.rotateStyle(-pointerRotate),\n              onMouseDown: draggable ? this.handleMouseDown : Function.prototype,\n              onTouchStart: draggable ? this.handleMouseDown : Function.prototype\n            },\n            time\n          )\n        ),\n        _react2.default.createElement('div', {\n          className: 'picker_center',\n          ref: function ref(p) {\n            return _this2.pickerCenter = p;\n          }\n        })\n      );\n    }\n  }]);\n\n  return PickerDragHandler;\n}(_react2.default.PureComponent);\n\nPickerDragHandler.propTypes = propTypes;\nPickerDragHandler.defaultProps = defaultProps;\n\nexports.default = PickerDragHandler;"]},"metadata":{},"sourceType":"script"}