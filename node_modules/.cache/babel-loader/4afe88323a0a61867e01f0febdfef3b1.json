{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _head = require('lodash/head');\n\nvar _head2 = _interopRequireDefault(_head);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _utils = require('../utils/');\n\nvar _keyCode = require('../constants/keyCode');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction typeaheadInputContainer(Input) {\n  var WrappedInput = function (_React$Component) {\n    _inherits(WrappedInput, _React$Component);\n\n    function WrappedInput() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, WrappedInput);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = WrappedInput.__proto__ || Object.getPrototypeOf(WrappedInput)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        isFocused: false\n      }, _this._handleBlur = function (e) {\n        // Note: Don't hide the menu here, since that interferes with other\n        // actions like making a selection by clicking on a menu item.\n        _this.props.onBlur(e);\n\n        _this.setState({\n          isFocused: false\n        });\n      }, _this._handleChange = function (e) {\n        var _this$props = _this.props,\n            multiple = _this$props.multiple,\n            onChange = _this$props.onChange,\n            onRemove = _this$props.onRemove,\n            selected = _this$props.selected;\n\n        if (!multiple) {\n          // Clear any selections when text is entered.\n          !!selected.length && onRemove((0, _head2.default)(selected));\n        }\n\n        onChange(e.target.value);\n      }, _this._handleFocus = function (e) {\n        _this.props.onFocus(e);\n\n        _this.setState({\n          isFocused: true\n        });\n      }, _this._handleContainerClickOrFocus = function (e) {\n        // Don't focus the input if it's disabled.\n        if (_this.props.disabled) {\n          e.target.blur();\n          return;\n        } // Move cursor to the end if the user clicks outside the actual input.\n\n\n        var inputNode = _this.getInputNode();\n\n        if (e.target !== inputNode) {\n          inputNode.selectionStart = inputNode.value.length;\n        }\n\n        inputNode.focus();\n      }, _this._handleKeyDown = function (e) {\n        var _this$props2 = _this.props,\n            activeItem = _this$props2.activeItem,\n            initialItem = _this$props2.initialItem,\n            multiple = _this$props2.multiple,\n            onAdd = _this$props2.onAdd,\n            selected = _this$props2.selected,\n            selectHintOnEnter = _this$props2.selectHintOnEnter;\n        var value = (0, _utils.getInputText)(_this.props);\n\n        switch (e.keyCode) {\n          case _keyCode.BACKSPACE:\n            if (!multiple) {\n              break;\n            }\n\n            var inputContainer = (0, _reactDom.findDOMNode)(_this._input);\n\n            if (inputContainer && inputContainer.contains(document.activeElement) && !value) {\n              // If the input is selected and there is no text, select the last\n              // token when the user hits backspace.\n              var sibling = inputContainer.parentElement.previousSibling;\n              sibling && sibling.focus(); // Prevent browser \"back\" action.\n\n              e.preventDefault();\n            }\n\n            break;\n\n          case _keyCode.RETURN:\n          case _keyCode.RIGHT:\n          case _keyCode.TAB:\n            // TODO: Support hinting for multi-selection.\n            if (multiple) {\n              break;\n            }\n\n            var hintText = (0, _utils.getHintText)(_this.props);\n            var selectionStart = e.target.selectionStart; // Autocomplete the selection if all of the following are true:\n\n            if ( // There's a hint or a menu item is highlighted.\n            (hintText || activeItem) && // There's no current selection.\n            !selected.length && // The input cursor is at the end of the text string when the user\n            // hits the right arrow key.\n            !(e.keyCode === _keyCode.RIGHT && selectionStart !== value.length) && !(e.keyCode === _keyCode.RETURN && !selectHintOnEnter)) {\n              e.preventDefault();\n              var selectedOption = hintText ? initialItem : activeItem;\n              onAdd && onAdd(selectedOption);\n            }\n\n            break;\n        }\n\n        _this.props.onKeyDown(e);\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(WrappedInput, [{\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var _props = this.props,\n            activeIndex = _props.activeIndex,\n            isMenuShown = _props.isMenuShown,\n            menuId = _props.menuId,\n            multiple = _props.multiple,\n            placeholder = _props.placeholder,\n            selected = _props.selected; // Add a11y-related props.\n\n        var inputProps = _extends({}, this.props.inputProps, {\n          'aria-activedescendant': activeIndex >= 0 ? (0, _utils.getMenuItemId)(activeIndex) : '',\n          'aria-autocomplete': multiple ? 'list' : 'both',\n          'aria-expanded': isMenuShown,\n          'aria-haspopup': 'listbox',\n          'aria-owns': menuId,\n          autoComplete: 'off',\n          // Comboboxes are single-select by definition:\n          // https://www.w3.org/TR/wai-aria-practices-1.1/#combobox\n          role: multiple ? '' : 'combobox'\n        });\n\n        return _react2.default.createElement(Input, _extends({}, this.props, this.state, {\n          hintText: (0, _utils.getHintText)(this.props),\n          inputProps: inputProps,\n          inputRef: function inputRef(input) {\n            return _this2._input = input;\n          },\n          onBlur: this._handleBlur,\n          onChange: this._handleChange,\n          onContainerClickOrFocus: this._handleContainerClickOrFocus,\n          onFocus: this._handleFocus,\n          onKeyDown: this._handleKeyDown,\n          placeholder: selected.length ? null : placeholder,\n          value: (0, _utils.getInputText)(this.props)\n        }));\n      }\n    }, {\n      key: 'getInputNode',\n      value: function getInputNode() {\n        return this._input.getInput();\n      }\n      /**\n       * Forward click or focus events on the container element to the input.\n       */\n\n    }]);\n\n    return WrappedInput;\n  }(_react2.default.Component);\n\n  return WrappedInput;\n}\n\nexports.default = typeaheadInputContainer;","map":{"version":3,"sources":["/Users/akshatdhankher/Desktop/HCI/hci-ClassMates/node_modules/react-bootstrap-typeahead/lib/containers/typeaheadInputContainer.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_head","require","_head2","_interopRequireDefault","_react","_react2","_reactDom","_utils","_keyCode","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","typeaheadInputContainer","Input","WrappedInput","_React$Component","_ref","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","state","isFocused","_handleBlur","e","onBlur","setState","_handleChange","_this$props","multiple","onChange","onRemove","selected","_handleFocus","onFocus","_handleContainerClickOrFocus","disabled","blur","inputNode","getInputNode","selectionStart","focus","_handleKeyDown","_this$props2","activeItem","initialItem","onAdd","selectHintOnEnter","getInputText","keyCode","BACKSPACE","inputContainer","findDOMNode","_input","contains","document","activeElement","sibling","parentElement","previousSibling","preventDefault","RETURN","RIGHT","TAB","hintText","getHintText","selectedOption","onKeyDown","render","_this2","_props","activeIndex","isMenuShown","menuId","placeholder","inputProps","getMenuItemId","autoComplete","role","createElement","inputRef","input","onContainerClickOrFocus","getInput","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _head = require('lodash/head');\n\nvar _head2 = _interopRequireDefault(_head);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _utils = require('../utils/');\n\nvar _keyCode = require('../constants/keyCode');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction typeaheadInputContainer(Input) {\n  var WrappedInput = function (_React$Component) {\n    _inherits(WrappedInput, _React$Component);\n\n    function WrappedInput() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, WrappedInput);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = WrappedInput.__proto__ || Object.getPrototypeOf(WrappedInput)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        isFocused: false\n      }, _this._handleBlur = function (e) {\n        // Note: Don't hide the menu here, since that interferes with other\n        // actions like making a selection by clicking on a menu item.\n        _this.props.onBlur(e);\n        _this.setState({ isFocused: false });\n      }, _this._handleChange = function (e) {\n        var _this$props = _this.props,\n            multiple = _this$props.multiple,\n            onChange = _this$props.onChange,\n            onRemove = _this$props.onRemove,\n            selected = _this$props.selected;\n\n\n        if (!multiple) {\n          // Clear any selections when text is entered.\n          !!selected.length && onRemove((0, _head2.default)(selected));\n        }\n\n        onChange(e.target.value);\n      }, _this._handleFocus = function (e) {\n        _this.props.onFocus(e);\n        _this.setState({ isFocused: true });\n      }, _this._handleContainerClickOrFocus = function (e) {\n        // Don't focus the input if it's disabled.\n        if (_this.props.disabled) {\n          e.target.blur();\n          return;\n        }\n\n        // Move cursor to the end if the user clicks outside the actual input.\n        var inputNode = _this.getInputNode();\n        if (e.target !== inputNode) {\n          inputNode.selectionStart = inputNode.value.length;\n        }\n\n        inputNode.focus();\n      }, _this._handleKeyDown = function (e) {\n        var _this$props2 = _this.props,\n            activeItem = _this$props2.activeItem,\n            initialItem = _this$props2.initialItem,\n            multiple = _this$props2.multiple,\n            onAdd = _this$props2.onAdd,\n            selected = _this$props2.selected,\n            selectHintOnEnter = _this$props2.selectHintOnEnter;\n\n\n        var value = (0, _utils.getInputText)(_this.props);\n\n        switch (e.keyCode) {\n          case _keyCode.BACKSPACE:\n            if (!multiple) {\n              break;\n            }\n\n            var inputContainer = (0, _reactDom.findDOMNode)(_this._input);\n            if (inputContainer && inputContainer.contains(document.activeElement) && !value) {\n              // If the input is selected and there is no text, select the last\n              // token when the user hits backspace.\n              var sibling = inputContainer.parentElement.previousSibling;\n              sibling && sibling.focus();\n\n              // Prevent browser \"back\" action.\n              e.preventDefault();\n            }\n            break;\n          case _keyCode.RETURN:\n          case _keyCode.RIGHT:\n          case _keyCode.TAB:\n            // TODO: Support hinting for multi-selection.\n            if (multiple) {\n              break;\n            }\n\n            var hintText = (0, _utils.getHintText)(_this.props);\n            var selectionStart = e.target.selectionStart;\n\n            // Autocomplete the selection if all of the following are true:\n\n            if (\n            // There's a hint or a menu item is highlighted.\n            (hintText || activeItem) &&\n            // There's no current selection.\n            !selected.length &&\n            // The input cursor is at the end of the text string when the user\n            // hits the right arrow key.\n            !(e.keyCode === _keyCode.RIGHT && selectionStart !== value.length) && !(e.keyCode === _keyCode.RETURN && !selectHintOnEnter)) {\n              e.preventDefault();\n\n              var selectedOption = hintText ? initialItem : activeItem;\n\n              onAdd && onAdd(selectedOption);\n            }\n            break;\n        }\n\n        _this.props.onKeyDown(e);\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(WrappedInput, [{\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var _props = this.props,\n            activeIndex = _props.activeIndex,\n            isMenuShown = _props.isMenuShown,\n            menuId = _props.menuId,\n            multiple = _props.multiple,\n            placeholder = _props.placeholder,\n            selected = _props.selected;\n\n        // Add a11y-related props.\n\n        var inputProps = _extends({}, this.props.inputProps, {\n          'aria-activedescendant': activeIndex >= 0 ? (0, _utils.getMenuItemId)(activeIndex) : '',\n          'aria-autocomplete': multiple ? 'list' : 'both',\n          'aria-expanded': isMenuShown,\n          'aria-haspopup': 'listbox',\n          'aria-owns': menuId,\n          autoComplete: 'off',\n          // Comboboxes are single-select by definition:\n          // https://www.w3.org/TR/wai-aria-practices-1.1/#combobox\n          role: multiple ? '' : 'combobox'\n        });\n\n        return _react2.default.createElement(Input, _extends({}, this.props, this.state, {\n          hintText: (0, _utils.getHintText)(this.props),\n          inputProps: inputProps,\n          inputRef: function inputRef(input) {\n            return _this2._input = input;\n          },\n          onBlur: this._handleBlur,\n          onChange: this._handleChange,\n          onContainerClickOrFocus: this._handleContainerClickOrFocus,\n          onFocus: this._handleFocus,\n          onKeyDown: this._handleKeyDown,\n          placeholder: selected.length ? null : placeholder,\n          value: (0, _utils.getInputText)(this.props)\n        }));\n      }\n    }, {\n      key: 'getInputNode',\n      value: function getInputNode() {\n        return this._input.getInput();\n      }\n\n      /**\n       * Forward click or focus events on the container element to the input.\n       */\n\n    }]);\n\n    return WrappedInput;\n  }(_react2.default.Component);\n\n  return WrappedInput;\n}\n\nexports.default = typeaheadInputContainer;"]},"metadata":{},"sourceType":"script"}